import{b as ae,e as s,f as h,g as d,h as p,i as oe,j as y}from"./chunk-QY3QWFKW.js";var hn={};ae(hn,{ABSTIME:()=>Et,ACLITEM:()=>Vt,BIT:()=>jt,BOOL:()=>be,BPCHAR:()=>_e,BYTEA:()=>ge,CHAR:()=>gt,CID:()=>St,CIDR:()=>Tt,CIRCLE:()=>Ut,DATE:()=>He,FLOAT4:()=>Qe,FLOAT8:()=>We,GTSVECTOR:()=>rn,INET:()=>kt,INT2:()=>ve,INT4:()=>Ge,INT8:()=>we,INTERVAL:()=>vt,JSON:()=>Ae,JSONB:()=>Ye,MACADDR:()=>Ot,MACADDR8:()=>Nt,MONEY:()=>Lt,NUMERIC:()=>Wt,OID:()=>je,PATH:()=>Mt,PG_DEPENDENCIES:()=>en,PG_LSN:()=>Xt,PG_NDISTINCT:()=>Zt,PG_NODE_TREE:()=>Bt,POLYGON:()=>Rt,REFCURSOR:()=>_t,REGCLASS:()=>Yt,REGCONFIG:()=>sn,REGDICTIONARY:()=>an,REGNAMESPACE:()=>on,REGOPER:()=>Ht,REGOPERATOR:()=>qt,REGPROC:()=>wt,REGPROCEDURE:()=>zt,REGROLE:()=>un,REGTYPE:()=>$t,RELTIME:()=>Ct,SMGR:()=>It,TEXT:()=>V,TID:()=>At,TIME:()=>Ft,TIMESTAMP:()=>qe,TIMESTAMPTZ:()=>xe,TIMETZ:()=>Gt,TINTERVAL:()=>Pt,TSQUERY:()=>nn,TSVECTOR:()=>tn,TXID_SNAPSHOT:()=>Jt,UUID:()=>Kt,VARBIT:()=>Qt,VARCHAR:()=>ze,XID:()=>xt,XML:()=>Dt,arrayParser:()=>yn,arraySerializer:()=>Ke,parseType:()=>ue,parsers:()=>ln,serializers:()=>cn,types:()=>$e});y();var ht=globalThis.JSON.parse,bt=globalThis.JSON.stringify,be=16,ge=17,gt=18,we=20,ve=21,Ge=23,wt=24,V=25,je=26,At=27,xt=28,St=29,Ae=114,Dt=142,Bt=194,It=210,Mt=602,Rt=604,Tt=650,Qe=700,We=701,Et=702,Ct=703,Pt=704,Ut=718,Nt=774,Lt=790,Ot=829,kt=869,Vt=1033,_e=1042,ze=1043,He=1082,Ft=1083,qe=1114,xe=1184,vt=1186,Gt=1266,jt=1560,Qt=1562,Wt=1700,_t=1790,zt=2202,Ht=2203,qt=2204,Yt=2205,$t=2206,Kt=2950,Jt=2970,Xt=3220,Zt=3361,en=3402,tn=3614,nn=3615,rn=3642,sn=3734,an=3769,Ye=3802,on=4089,un=4096,$e={string:{to:V,from:[V,ze,_e],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return e.toString();throw new Error("Invalid input for string type")},parse:e=>e},number:{to:0,from:[ve,Ge,je,Qe,We],serialize:e=>e.toString(),parse:e=>+e},bigint:{to:we,from:[we],serialize:e=>e.toString(),parse:e=>{let t=BigInt(e);return t<Number.MIN_SAFE_INTEGER||t>Number.MAX_SAFE_INTEGER?t:Number(t)}},json:{to:Ae,from:[Ae,Ye],serialize:e=>typeof e=="string"?e:bt(e),parse:e=>ht(e)},boolean:{to:be,from:[be],serialize:e=>{if(typeof e!="boolean")throw new Error("Invalid input for boolean type");return e?"t":"f"},parse:e=>e==="t"},date:{to:xe,from:[He,qe,xe],serialize:e=>{if(typeof e=="string")return e;if(typeof e=="number")return new Date(e).toISOString();if(e instanceof Date)return e.toISOString();throw new Error("Invalid input for date type")},parse:e=>new Date(e)},bytea:{to:ge,from:[ge],serialize:e=>{if(!(e instanceof Uint8Array))throw new Error("Invalid input for bytea type");return"\\x"+Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")},parse:e=>{let t=e.slice(2);return Uint8Array.from({length:t.length/2},(n,r)=>parseInt(t.substring(r*2,(r+1)*2),16))}}},Se=pn($e),ln=Se.parsers,cn=Se.serializers;function ue(e,t,n){if(e===null)return null;let r=n?.[t]??Se.parsers[t];return r?r(e,t):e}function pn(e){return Object.keys(e).reduce(({parsers:t,serializers:n},r)=>{let{to:i,from:a,serialize:u,parse:f}=e[r];return n[i]=u,n[r]=u,t[r]=f,Array.isArray(a)?a.forEach(c=>{t[c]=f,n[c]=u}):(t[a]=f,n[a]=u),{parsers:t,serializers:n}},{parsers:{},serializers:{}})}var dn=/\\/g,fn=/"/g;function mn(e){return e.replace(dn,"\\\\").replace(fn,'\\"')}function Ke(e,t,n){if(Array.isArray(e)===!1)return e;if(!e.length)return"{}";let r=e[0],i=n===1020?";":",";return Array.isArray(r)?`{${e.map(a=>Ke(a,t,n)).join(i)}}`:`{${e.map(a=>(a===void 0&&(a=null),a===null?"null":'"'+mn(t?t(a):a.toString())+'"')).join(i)}}`}var he={i:0,char:null,str:"",quoted:!1,last:0,p:null};function yn(e,t,n){return he.i=he.last=0,Je(he,e,t,n)[0]}function Je(e,t,n,r){let i=[],a=r===1020?";":",";for(;e.i<t.length;e.i++){if(e.char=t[e.i],e.quoted)e.char==="\\"?e.str+=t[++e.i]:e.char==='"'?(i.push(n?n(e.str):e.str),e.str="",e.quoted=t[e.i+1]==='"',e.last=e.i+2):e.str+=e.char;else if(e.char==='"')e.quoted=!0;else if(e.char==="{")e.last=++e.i,i.push(Je(e,t,n,r));else if(e.char==="}"){e.quoted=!1,e.last<e.i&&i.push(n?n(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1;break}else e.char===a&&e.p!=="}"&&e.p!=='"'&&(i.push(n?n(t.slice(e.last,e.i)):t.slice(e.last,e.i)),e.last=e.i+1);e.p=e.char}return e.last<e.i&&i.push(n?n(t.slice(e.last,e.i+1)):t.slice(e.last,e.i+1)),i}var wn={};ae(wn,{parseDescribeStatementResults:()=>De,parseResults:()=>bn});y();function bn(e,t,n,r){let i=[],a={rows:[],fields:[]},u=0,f={...t,...n?.parsers};return e.forEach(c=>{switch(c.name){case"rowDescription":{let M=c;a.fields=M.fields.map(E=>({name:E.name,dataTypeID:E.dataTypeID}));break}case"dataRow":{if(!a)break;let M=c;n?.rowMode==="array"?a.rows.push(M.fields.map((E,ie)=>ue(E,a.fields[ie].dataTypeID,f))):a.rows.push(Object.fromEntries(M.fields.map((E,ie)=>[a.fields[ie].name,ue(E,a.fields[ie].dataTypeID,f)])));break}case"commandComplete":{u+=gn(c),i.push({...a,affectedRows:u,...r?{blob:r}:{}}),a={rows:[],fields:[]};break}}}),i.length===0&&i.push({affectedRows:0,rows:[],fields:[]}),i}function gn(e){let t=e.text.split(" ");switch(t[0]){case"INSERT":return parseInt(t[2],10);case"UPDATE":case"DELETE":case"COPY":case"MERGE":return parseInt(t[1],10);default:return 0}}function De(e){let t=e.find(n=>n.name==="parameterDescription");return t?t.dataTypeIDs:[]}var Ue={};ae(Ue,{AuthenticationCleartextPassword:()=>v,AuthenticationMD5Password:()=>G,AuthenticationOk:()=>F,AuthenticationSASL:()=>j,AuthenticationSASLContinue:()=>Q,AuthenticationSASLFinal:()=>W,BackendKeyDataMessage:()=>K,CommandCompleteMessage:()=>Z,CopyDataMessage:()=>_,CopyResponse:()=>z,DataRowMessage:()=>ee,DatabaseError:()=>C,Field:()=>H,NoticeMessage:()=>te,NotificationResponseMessage:()=>J,ParameterDescriptionMessage:()=>Y,ParameterStatusMessage:()=>$,ReadyForQueryMessage:()=>X,RowDescriptionMessage:()=>q,bindComplete:()=>Ie,closeComplete:()=>Me,copyDone:()=>Pe,emptyQuery:()=>Ce,noData:()=>Re,parseComplete:()=>Be,portalSuspended:()=>Te,replicationStart:()=>Ee});y();var Be={name:"parseComplete",length:5},Ie={name:"bindComplete",length:5},Me={name:"closeComplete",length:5},Re={name:"noData",length:5},Te={name:"portalSuspended",length:5},Ee={name:"replicationStart",length:4},Ce={name:"emptyQuery",length:4},Pe={name:"copyDone",length:4},F=class{constructor(t){this.length=t;this.name="authenticationOk"}},v=class{constructor(t){this.length=t;this.name="authenticationCleartextPassword"}},G=class{constructor(t,n){this.length=t;this.salt=n;this.name="authenticationMD5Password"}},j=class{constructor(t,n){this.length=t;this.mechanisms=n;this.name="authenticationSASL"}},Q=class{constructor(t,n){this.length=t;this.data=n;this.name="authenticationSASLContinue"}},W=class{constructor(t,n){this.length=t;this.data=n;this.name="authenticationSASLFinal"}},C=class extends Error{constructor(n,r,i){super(n);this.length=r;this.name=i}},_=class{constructor(t,n){this.length=t;this.chunk=n;this.name="copyData"}},z=class{constructor(t,n,r,i){this.length=t;this.name=n;this.binary=r;this.columnTypes=new Array(i)}},H=class{constructor(t,n,r,i,a,u,f){this.name=t;this.tableID=n;this.columnID=r;this.dataTypeID=i;this.dataTypeSize=a;this.dataTypeModifier=u;this.format=f}},q=class{constructor(t,n){this.length=t;this.fieldCount=n;this.name="rowDescription";this.fields=new Array(this.fieldCount)}},Y=class{constructor(t,n){this.length=t;this.parameterCount=n;this.name="parameterDescription";this.dataTypeIDs=new Array(this.parameterCount)}},$=class{constructor(t,n,r){this.length=t;this.parameterName=n;this.parameterValue=r;this.name="parameterStatus"}},K=class{constructor(t,n,r){this.length=t;this.processID=n;this.secretKey=r;this.name="backendKeyData"}},J=class{constructor(t,n,r,i){this.length=t;this.processId=n;this.channel=r;this.payload=i;this.name="notification"}},X=class{constructor(t,n){this.length=t;this.status=n;this.name="readyForQuery"}},Z=class{constructor(t,n){this.length=t;this.text=n;this.name="commandComplete"}},ee=class{constructor(t,n){this.length=t;this.fields=n;this.name="dataRow";this.fieldCount=n.length}},te=class{constructor(t,n){this.length=t;this.message=n;this.name="notice"}};var zn={};ae(zn,{Parser:()=>ye,messages:()=>Ue,serialize:()=>k});y();y();y();y();function P(e){let t=e.length;for(let n=e.length-1;n>=0;n--){let r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}var b,g,N,ce,L,x,le,U,Xe,T=class{constructor(t=256){this.size=t;h(this,x);h(this,b);h(this,g,5);h(this,N,!1);h(this,ce,new TextEncoder);h(this,L,0);d(this,b,p(this,x,le).call(this,t))}addInt32(t){return p(this,x,U).call(this,4),s(this,b).setInt32(s(this,g),t,s(this,N)),d(this,g,s(this,g)+4),this}addInt16(t){return p(this,x,U).call(this,2),s(this,b).setInt16(s(this,g),t,s(this,N)),d(this,g,s(this,g)+2),this}addCString(t){return t&&this.addString(t),p(this,x,U).call(this,1),s(this,b).setUint8(s(this,g),0),oe(this,g)._++,this}addString(t=""){let n=P(t);return p(this,x,U).call(this,n),s(this,ce).encodeInto(t,new Uint8Array(s(this,b).buffer,s(this,g))),d(this,g,s(this,g)+n),this}add(t){return p(this,x,U).call(this,t.byteLength),new Uint8Array(s(this,b).buffer).set(new Uint8Array(t),s(this,g)),d(this,g,s(this,g)+t.byteLength),this}flush(t){let n=p(this,x,Xe).call(this,t);return d(this,g,5),d(this,b,p(this,x,le).call(this,this.size)),new Uint8Array(n)}};b=new WeakMap,g=new WeakMap,N=new WeakMap,ce=new WeakMap,L=new WeakMap,x=new WeakSet,le=function(t){return new DataView(new ArrayBuffer(t))},U=function(t){if(s(this,b).byteLength-s(this,g)<t){let r=s(this,b).buffer,i=r.byteLength+(r.byteLength>>1)+t;d(this,b,p(this,x,le).call(this,i)),new Uint8Array(s(this,b).buffer).set(new Uint8Array(r))}},Xe=function(t){if(t){s(this,b).setUint8(s(this,L),t);let n=s(this,g)-(s(this,L)+1);s(this,b).setInt32(s(this,L)+1,n,s(this,N))}return s(this,b).buffer.slice(t?0:5,s(this,g))};var m=new T,An=e=>{m.addInt16(3).addInt16(0);for(let r of Object.keys(e))m.addCString(r).addCString(e[r]);m.addCString("client_encoding").addCString("UTF8");let t=m.addCString("").flush(),n=t.byteLength+4;return new T().addInt32(n).add(t).flush()},xn=()=>{let e=new DataView(new ArrayBuffer(8));return e.setInt32(0,8,!1),e.setInt32(4,80877103,!1),new Uint8Array(e.buffer)},Sn=e=>m.addCString(e).flush(112),Dn=(e,t)=>(m.addCString(e).addInt32(P(t)).addString(t),m.flush(112)),Bn=e=>m.addString(e).flush(112),In=e=>m.addCString(e).flush(81),Mn=[],Rn=e=>{let t=e.name??"";t.length>63&&(console.error("Warning! Postgres only supports 63 characters for query names."),console.error("You supplied %s (%s)",t,t.length),console.error("This can cause conflicts and silent errors executing queries"));let n=m.addCString(t).addCString(e.text).addInt16(e.types?.length??0);return e.types?.forEach(r=>n.addInt32(r)),m.flush(80)},O=new T;var Tn=(e,t)=>{for(let n=0;n<e.length;n++){let r=t?t(e[n],n):e[n];if(r===null)m.addInt16(0),O.addInt32(-1);else if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)){let i=ArrayBuffer.isView(r)?r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength):r;m.addInt16(1),O.addInt32(i.byteLength),O.add(i)}else m.addInt16(0),O.addInt32(P(r)),O.addString(r)}},En=(e={})=>{let t=e.portal??"",n=e.statement??"",r=e.binary??!1,i=e.values??Mn,a=i.length;return m.addCString(t).addCString(n),m.addInt16(a),Tn(i,e.valueMapper),m.addInt16(a),m.add(O.flush()),m.addInt16(r?1:0),m.flush(66)},Cn=new Uint8Array([69,0,0,0,9,0,0,0,0,0]),Pn=e=>{if(!e||!e.portal&&!e.rows)return Cn;let t=e.portal??"",n=e.rows??0,r=P(t),i=4+r+1+4,a=new DataView(new ArrayBuffer(1+i));return a.setUint8(0,69),a.setInt32(1,i,!1),new TextEncoder().encodeInto(t,new Uint8Array(a.buffer,5)),a.setUint8(r+5,0),a.setUint32(a.byteLength-4,n,!1),new Uint8Array(a.buffer)},Un=(e,t)=>{let n=new DataView(new ArrayBuffer(16));return n.setInt32(0,16,!1),n.setInt16(4,1234,!1),n.setInt16(6,5678,!1),n.setInt32(8,e,!1),n.setInt32(12,t,!1),new Uint8Array(n.buffer)},Ne=(e,t)=>{let n=new T;return n.addCString(t),n.flush(e)},Nn=m.addCString("P").flush(68),Ln=m.addCString("S").flush(68),On=e=>e.name?Ne(68,`${e.type}${e.name??""}`):e.type==="P"?Nn:Ln,kn=e=>{let t=`${e.type}${e.name??""}`;return Ne(67,t)},Vn=e=>m.add(e).flush(100),Fn=e=>Ne(102,e),pe=e=>new Uint8Array([e,0,0,0,4]),vn=pe(72),Gn=pe(83),jn=pe(88),Qn=pe(99),k={startup:An,password:Sn,requestSsl:xn,sendSASLInitialResponseMessage:Dn,sendSCRAMClientFinalMessage:Bn,query:In,parse:Rn,bind:En,execute:Pn,describe:On,close:kn,flush:()=>vn,sync:()=>Gn,end:()=>jn,copyData:Vn,copyDone:()=>Qn,copyFail:Fn,cancel:Un};y();y();var Le={text:0,binary:1};y();var Wn=new ArrayBuffer(0),R,w,fe,me,ne,de=class{constructor(t=0){h(this,R,new DataView(Wn));h(this,w);h(this,fe,"utf-8");h(this,me,new TextDecoder(s(this,fe)));h(this,ne,!1);d(this,w,t)}setBuffer(t,n){d(this,w,t),d(this,R,new DataView(n))}int16(){let t=s(this,R).getInt16(s(this,w),s(this,ne));return d(this,w,s(this,w)+2),t}byte(){let t=s(this,R).getUint8(s(this,w));return oe(this,w)._++,t}int32(){let t=s(this,R).getInt32(s(this,w),s(this,ne));return d(this,w,s(this,w)+4),t}string(t){return s(this,me).decode(this.bytes(t))}cstring(){let t=s(this,w),n=t;for(;s(this,R).getUint8(n++)!==0;);let r=this.string(n-t-1);return d(this,w,n),r}bytes(t){let n=s(this,R).buffer.slice(s(this,w),s(this,w)+t);return d(this,w,s(this,w)+t),new Uint8Array(n)}};R=new WeakMap,w=new WeakMap,fe=new WeakMap,me=new WeakMap,ne=new WeakMap;var Oe=1,_n=4,Ze=Oe+_n,et=new ArrayBuffer(0);var A,S,D,o,l,tt,nt,rt,st,it,at,ot,ke,ut,lt,ct,pt,dt,ft,mt,yt,Ve,ye=class{constructor(){h(this,l);h(this,A,new DataView(et));h(this,S,0);h(this,D,0);h(this,o,new de)}parse(t,n){p(this,l,tt).call(this,ArrayBuffer.isView(t)?t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength):t);let r=s(this,D)+s(this,S),i=s(this,D);for(;i+Ze<=r;){let a=s(this,A).getUint8(i),u=s(this,A).getUint32(i+Oe,!1),f=Oe+u;if(f+i<=r&&u>0){let c=p(this,l,nt).call(this,i+Ze,a,u,s(this,A).buffer);n(c),i+=f}else break}i===r?(d(this,A,new DataView(et)),d(this,S,0),d(this,D,0)):(d(this,S,r-i),d(this,D,i))}};A=new WeakMap,S=new WeakMap,D=new WeakMap,o=new WeakMap,l=new WeakSet,tt=function(t){if(s(this,S)>0){let n=s(this,S)+t.byteLength;if(n+s(this,D)>s(this,A).byteLength){let i;if(n<=s(this,A).byteLength&&s(this,D)>=s(this,S))i=s(this,A).buffer;else{let a=s(this,A).byteLength*2;for(;n>=a;)a*=2;i=new ArrayBuffer(a)}new Uint8Array(i).set(new Uint8Array(s(this,A).buffer,s(this,D),s(this,S))),d(this,A,new DataView(i)),d(this,D,0)}new Uint8Array(s(this,A).buffer).set(new Uint8Array(t),s(this,D)+s(this,S)),d(this,S,n)}else d(this,A,new DataView(t)),d(this,D,0),d(this,S,t.byteLength)},nt=function(t,n,r,i){switch(n){case 50:return Ie;case 49:return Be;case 51:return Me;case 110:return Re;case 115:return Te;case 99:return Pe;case 87:return Ee;case 73:return Ce;case 68:return p(this,l,dt).call(this,t,r,i);case 67:return p(this,l,st).call(this,t,r,i);case 90:return p(this,l,rt).call(this,t,r,i);case 65:return p(this,l,ut).call(this,t,r,i);case 82:return p(this,l,yt).call(this,t,r,i);case 83:return p(this,l,ft).call(this,t,r,i);case 75:return p(this,l,mt).call(this,t,r,i);case 69:return p(this,l,Ve).call(this,t,r,i,"error");case 78:return p(this,l,Ve).call(this,t,r,i,"notice");case 84:return p(this,l,lt).call(this,t,r,i);case 116:return p(this,l,pt).call(this,t,r,i);case 71:return p(this,l,at).call(this,t,r,i);case 72:return p(this,l,ot).call(this,t,r,i);case 100:return p(this,l,it).call(this,t,r,i);default:return new C("received invalid response: "+n.toString(16),r,"error")}},rt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).string(1);return new X(n,i)},st=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).cstring();return new Z(n,i)},it=function(t,n,r){let i=r.slice(t,t+(n-4));return new _(n,new Uint8Array(i))},at=function(t,n,r){return p(this,l,ke).call(this,t,n,r,"copyInResponse")},ot=function(t,n,r){return p(this,l,ke).call(this,t,n,r,"copyOutResponse")},ke=function(t,n,r,i){s(this,o).setBuffer(t,r);let a=s(this,o).byte()!==0,u=s(this,o).int16(),f=new z(n,i,a,u);for(let c=0;c<u;c++)f.columnTypes[c]=s(this,o).int16();return f},ut=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32(),a=s(this,o).cstring(),u=s(this,o).cstring();return new J(n,i,a,u)},lt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new q(n,i);for(let u=0;u<i;u++)a.fields[u]=p(this,l,ct).call(this);return a},ct=function(){let t=s(this,o).cstring(),n=s(this,o).int32(),r=s(this,o).int16(),i=s(this,o).int32(),a=s(this,o).int16(),u=s(this,o).int32(),f=s(this,o).int16()===0?Le.text:Le.binary;return new H(t,n,r,i,a,u,f)},pt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new Y(n,i);for(let u=0;u<i;u++)a.dataTypeIDs[u]=s(this,o).int32();return a},dt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int16(),a=new Array(i);for(let u=0;u<i;u++){let f=s(this,o).int32();a[u]=f===-1?null:s(this,o).string(f)}return new ee(n,a)},ft=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).cstring(),a=s(this,o).cstring();return new $(n,i,a)},mt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32(),a=s(this,o).int32();return new K(n,i,a)},yt=function(t,n,r){s(this,o).setBuffer(t,r);let i=s(this,o).int32();switch(i){case 0:return new F(n);case 3:return new v(n);case 5:return new G(n,s(this,o).bytes(4));case 10:{let a=[];for(;;){let u=s(this,o).cstring();if(u.length===0)return new j(n,a);a.push(u)}}case 11:return new Q(n,s(this,o).string(n-8));case 12:return new W(n,s(this,o).string(n-8));default:throw new Error("Unknown authenticationOk message type "+i)}},Ve=function(t,n,r,i){s(this,o).setBuffer(t,r);let a={},u=s(this,o).string(1);for(;u!=="\0";)a[u]=s(this,o).cstring(),u=s(this,o).string(1);let f=a.M,c=i==="notice"?new te(n,f):new C(f,n,i);return c.severity=a.S,c.code=a.C,c.detail=a.D,c.hint=a.H,c.position=a.P,c.internalPosition=a.p,c.internalQuery=a.q,c.where=a.W,c.schema=a.s,c.table=a.t,c.column=a.c,c.dataType=a.d,c.constraint=a.n,c.file=a.F,c.line=a.L,c.routine=a.R,c};y();var Fe=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",se;async function Rr(){if(Fe||se)return;let e=new URL("./pglite.wasm",import.meta.url);se=fetch(e)}var re;async function Tr(e,t){if(t||re)return{instance:await WebAssembly.instantiate(t||re,e),module:t||re};let n=new URL("./pglite.wasm",import.meta.url);if(Fe){let i=await(await import("fs/promises")).readFile(n),{module:a,instance:u}=await WebAssembly.instantiate(i,e);return re=a,{instance:u,module:a}}else{se||(se=fetch(n));let r=await se,{module:i,instance:a}=await WebAssembly.instantiateStreaming(r,e);return re=i,{instance:a,module:i}}}async function Er(){let e=new URL("./pglite.data",import.meta.url);return Fe?(await(await import("fs/promises")).readFile(e)).buffer:(await fetch(e)).arrayBuffer()}var Cr=()=>{if(globalThis.crypto?.randomUUID)return globalThis.crypto.randomUUID();let e=new Uint8Array(16);if(globalThis.crypto?.getRandomValues)globalThis.crypto.getRandomValues(e);else for(let n=0;n<e.length;n++)e[n]=Math.floor(Math.random()*256);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let t=[];return e.forEach(n=>{t.push(n.toString(16).padStart(2,"0"))}),t.slice(0,4).join("")+"-"+t.slice(4,6).join("")+"-"+t.slice(6,8).join("")+"-"+t.slice(8,10).join("")+"-"+t.slice(10).join("")};async function Pr(e,t,n,r){if(!n||n.length===0)return t;r=r??e;let i=[];try{await e.execProtocol(k.parse({text:t}),{syncToFs:!1}),i.push(...(await e.execProtocol(k.describe({type:"S"}),{syncToFs:!1})).messages)}finally{i.push(...(await e.execProtocol(k.sync(),{syncToFs:!1})).messages)}let a=De(i),u=t.replace(/\$([0-9]+)/g,(c,M)=>"%"+M+"L");return(await r.query(`SELECT format($1, ${n.map((c,M)=>`$${M+2}`).join(", ")}) as query`,[u,...n],{paramTypes:[V,...a]})).rows[0].query}function Ur(e){let t,n=!1,r=async()=>{if(!t){n=!1;return}n=!0;let{args:i,resolve:a,reject:u}=t;t=void 0;try{let f=await e(...i);a(f)}catch(f){u(f)}finally{r()}};return async(...i)=>{t&&t.resolve(void 0);let a=new Promise((u,f)=>{t={args:i,resolve:u,reject:f}});return n||r(),a}}function Nr(e){let t;return e.startsWith('"')&&e.endsWith('"')?t=e.substring(1,e.length-1):t=e.toLowerCase(),t}export{ln as a,cn as b,Ke as c,yn as d,hn as e,bn as f,De as g,wn as h,k as i,C as j,J as k,Z as l,te as m,Ue as n,ye as o,zn as p,Fe as q,Rr as r,Tr as s,Er as t,Cr as u,Pr as v,Ur as w,Nr as x};
//# sourceMappingURL=chunk-3WWIVTCY.js.map