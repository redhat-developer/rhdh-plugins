'use strict';

var paths = require('../../lib/paths.cjs.js');
var role = require('../../lib/role.cjs.js');
var urls = require('../../lib/urls.cjs.js');
var buildFrontend = require('./buildFrontend.cjs.js');

async function command(opts) {
  const role$1 = await role.findRoleFromCommand(opts);
  const configPaths = opts.config.map((arg) => {
    if (urls.isValidUrl(arg)) {
      return arg;
    }
    return paths.paths.resolveTarget(arg);
  });
  if (role$1 === "frontend") {
    return buildFrontend.buildFrontend({
      targetDir: paths.paths.targetDir,
      configPaths,
      writeStats: Boolean(opts.stats)
    });
  }
  throw new Error(
    "Package role not supported, please use 'backstage-cli' instead"
  );
}

exports.command = command;
//# sourceMappingURL=command.cjs.js.map
