{"version":3,"file":"ThemeProvider.esm.js","sources":["../../src/components/ThemeProvider.tsx"],"sourcesContent":["/*\n * Copyright Red Hat, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { ReactNode } from 'react';\nimport { AppTheme } from '@backstage/core-plugin-api';\nimport { UnifiedTheme, UnifiedThemeProvider } from '@backstage/theme';\n\nimport {\n  StyledEngineProvider,\n  ThemeProvider as Mui5Provider,\n  Theme as Mui5Theme,\n} from '@mui/material/styles';\n\nimport { useTheme } from '../hooks/useTheme';\nimport { useThemeConfig } from '../hooks/useThemeConfig';\nimport { ThemeConfig } from '../types';\n\n/**\n * Uses the UnifiedThemeProvider to style MUI v4 and v5 components.\n *\n * This component duplicated the StyledEngineProvider and MUI v5 ThemeProvider\n * to solve an issue that the defaultProps from the component configurations\n * (see `utils/createComponents.ts`) wasn't picked up.\n *\n * https://github.com/backstage/backstage/blob/master/packages/theme/src/unified/UnifiedThemeProvider.tsx#L94-L100\n */\nconst ThemeProvider = ({\n  theme,\n  children,\n}: {\n  theme: UnifiedTheme;\n  children: ReactNode;\n}) => (\n  <UnifiedThemeProvider theme={theme}>\n    <StyledEngineProvider injectFirst>\n      <Mui5Provider theme={theme.getTheme('v5') as Mui5Theme}>\n        {children}\n      </Mui5Provider>\n    </StyledEngineProvider>\n  </UnifiedThemeProvider>\n);\n\nexport const createThemeProvider = (\n  theme: UnifiedTheme,\n): AppTheme['Provider'] =>\n  function RHDHThemeProvider({ children }) {\n    return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\n  };\n\nexport const createThemeProviderForThemeConfig = (\n  themeConfig: ThemeConfig,\n): AppTheme['Provider'] =>\n  function RHDHThemeProviderForThemeConfig({ children }) {\n    const theme = useTheme(themeConfig);\n    return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\n  };\n\nexport const createThemeProviderForThemeName = (\n  themeName: string,\n): AppTheme['Provider'] =>\n  function RHDHThemeProviderForThemeName({ children }) {\n    const themeConfig = useThemeConfig(themeName);\n    const theme = useTheme(themeConfig);\n    return <ThemeProvider theme={theme}>{children}</ThemeProvider>;\n  };\n"],"names":["Mui5Provider"],"mappings":";;;;;;AAuCA,MAAM,gBAAgB,CAAC;AAAA,EACrB,KAAA;AAAA,EACA;AACF,CAAA,yBAIG,oBAAqB,EAAA,EAAA,KAAA,EACpB,QAAC,kBAAA,GAAA,CAAA,oBAAA,EAAA,EAAqB,aAAW,IAC/B,EAAA,QAAA,kBAAA,GAAA,CAACA,eAAa,EAAA,EAAA,KAAA,EAAO,MAAM,QAAS,CAAA,IAAI,CACrC,EAAA,QAAA,EACH,GACF,CACF,EAAA,CAAA;AAGK,MAAM,sBAAsB,CACjC,KAAA,KAEA,SAAS,iBAAkB,CAAA,EAAE,UAAY,EAAA;AACvC,EAAO,uBAAA,GAAA,CAAC,aAAc,EAAA,EAAA,KAAA,EAAe,QAAS,EAAA,CAAA;AAChD;AAEK,MAAM,oCAAoC,CAC/C,WAAA,KAEA,SAAS,+BAAgC,CAAA,EAAE,UAAY,EAAA;AACrD,EAAM,MAAA,KAAA,GAAQ,SAAS,WAAW,CAAA;AAClC,EAAO,uBAAA,GAAA,CAAC,aAAc,EAAA,EAAA,KAAA,EAAe,QAAS,EAAA,CAAA;AAChD;AAEK,MAAM,kCAAkC,CAC7C,SAAA,KAEA,SAAS,6BAA8B,CAAA,EAAE,UAAY,EAAA;AACnD,EAAM,MAAA,WAAA,GAAc,eAAe,SAAS,CAAA;AAC5C,EAAM,MAAA,KAAA,GAAQ,SAAS,WAAW,CAAA;AAClC,EAAO,uBAAA,GAAA,CAAC,aAAc,EAAA,EAAA,KAAA,EAAe,QAAS,EAAA,CAAA;AAChD;;;;"}