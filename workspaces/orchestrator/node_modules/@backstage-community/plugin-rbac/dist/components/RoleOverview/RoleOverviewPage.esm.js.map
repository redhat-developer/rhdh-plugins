{"version":3,"file":"RoleOverviewPage.esm.js","sources":["../../../src/components/RoleOverview/RoleOverviewPage.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport { Header, Page, TabbedLayout } from '@backstage/core-components';\n\nimport Grid from '@mui/material/Grid';\n\nimport { useLocationToast } from '../../hooks/useLocationToast';\nimport { useMembers } from '../../hooks/useMembers';\nimport { SnackbarAlert } from '../SnackbarAlert';\nimport { useToast } from '../ToastContext';\nimport { AboutCard } from './AboutCard';\nimport { MembersCard } from './MembersCard';\nimport { PermissionsCard } from './PermissionsCard';\n\nexport const RoleOverviewPage = () => {\n  const { roleName, roleNamespace, roleKind } = useParams();\n  const { toastMessage, setToastMessage } = useToast();\n  const membersInfo = useMembers(`${roleKind}:${roleNamespace}/${roleName}`);\n\n  useLocationToast(setToastMessage);\n\n  const onAlertClose = () => {\n    setToastMessage('');\n  };\n\n  return (\n    <>\n      <SnackbarAlert toastMessage={toastMessage} onAlertClose={onAlertClose} />\n      <Page themeId=\"tool\">\n        <Header\n          title={`${roleKind}:${roleNamespace}/${roleName}`}\n          type=\"RBAC\"\n          typeLink=\"..\"\n        />\n        <TabbedLayout>\n          <TabbedLayout.Route path=\"\" title=\"Overview\">\n            <Grid container direction=\"row\">\n              <Grid item lg={12} xs={12}>\n                <AboutCard\n                  roleName={`${roleKind}:${roleNamespace}/${roleName}`}\n                />\n              </Grid>\n              <Grid item lg={6} xs={12}>\n                <MembersCard\n                  roleName={`${roleKind}:${roleNamespace}/${roleName}`}\n                  membersInfo={membersInfo}\n                />\n              </Grid>\n              <Grid item lg={6} xs={12}>\n                <PermissionsCard\n                  entityReference={`${roleKind}:${roleNamespace}/${roleName}`}\n                  canReadUsersAndGroups={membersInfo.canReadUsersAndGroups}\n                />\n              </Grid>\n            </Grid>\n          </TabbedLayout.Route>\n        </TabbedLayout>\n      </Page>\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AA8BO,MAAM,mBAAmB,MAAM;AACpC,EAAA,MAAM,EAAE,QAAA,EAAU,aAAe,EAAA,QAAA,KAAa,SAAU,EAAA;AACxD,EAAA,MAAM,EAAE,YAAA,EAAc,eAAgB,EAAA,GAAI,QAAS,EAAA;AACnD,EAAM,MAAA,WAAA,GAAc,WAAW,CAAG,EAAA,QAAQ,IAAI,aAAa,CAAA,CAAA,EAAI,QAAQ,CAAE,CAAA,CAAA;AAEzE,EAAA,gBAAA,CAAiB,eAAe,CAAA;AAEhC,EAAA,MAAM,eAAe,MAAM;AACzB,IAAA,eAAA,CAAgB,EAAE,CAAA;AAAA,GACpB;AAEA,EACE,uBAAA,KAAA,CAAA,aAAA,CAAA,KAAA,CAAA,QAAA,EAAA,IAAA,sCACG,aAAc,EAAA,EAAA,YAAA,EAA4B,cAA4B,CACvE,kBAAA,KAAA,CAAA,aAAA,CAAC,IAAK,EAAA,EAAA,OAAA,EAAQ,MACZ,EAAA,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,MAAA;AAAA,IAAA;AAAA,MACC,OAAO,CAAG,EAAA,QAAQ,CAAI,CAAA,EAAA,aAAa,IAAI,QAAQ,CAAA,CAAA;AAAA,MAC/C,IAAK,EAAA,MAAA;AAAA,MACL,QAAS,EAAA;AAAA;AAAA,GACX,kBACC,KAAA,CAAA,aAAA,CAAA,YAAA,EAAA,IAAA,kBACE,KAAA,CAAA,aAAA,CAAA,YAAA,CAAa,OAAb,EAAmB,IAAA,EAAK,EAAG,EAAA,KAAA,EAAM,UAChC,EAAA,kBAAA,KAAA,CAAA,aAAA,CAAC,QAAK,SAAS,EAAA,IAAA,EAAC,SAAU,EAAA,KAAA,EAAA,kBACvB,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA,EAAK,MAAI,IAAC,EAAA,EAAA,EAAI,EAAI,EAAA,EAAA,EAAI,EACrB,EAAA,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,SAAA;AAAA,IAAA;AAAA,MACC,UAAU,CAAG,EAAA,QAAQ,CAAI,CAAA,EAAA,aAAa,IAAI,QAAQ,CAAA;AAAA;AAAA,GAEtD,mBACC,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA,EAAK,MAAI,IAAC,EAAA,EAAA,EAAI,CAAG,EAAA,EAAA,EAAI,EACpB,EAAA,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,WAAA;AAAA,IAAA;AAAA,MACC,UAAU,CAAG,EAAA,QAAQ,CAAI,CAAA,EAAA,aAAa,IAAI,QAAQ,CAAA,CAAA;AAAA,MAClD;AAAA;AAAA,GAEJ,mBACC,KAAA,CAAA,aAAA,CAAA,IAAA,EAAA,EAAK,MAAI,IAAC,EAAA,EAAA,EAAI,CAAG,EAAA,EAAA,EAAI,EACpB,EAAA,kBAAA,KAAA,CAAA,aAAA;AAAA,IAAC,eAAA;AAAA,IAAA;AAAA,MACC,iBAAiB,CAAG,EAAA,QAAQ,CAAI,CAAA,EAAA,aAAa,IAAI,QAAQ,CAAA,CAAA;AAAA,MACzD,uBAAuB,WAAY,CAAA;AAAA;AAAA,GAEvC,CACF,CACF,CACF,CACF,CACF,CAAA;AAEJ;;;;"}