{"version":3,"file":"PermissionsListColumns.esm.js","sources":["../../../src/components/RoleOverview/PermissionsListColumns.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { TableColumn } from '@backstage/core-components';\n\nimport { PermissionsData } from '../../types';\nimport { getRulesNumber } from '../../utils/create-role-utils';\n\nexport const columns: TableColumn<PermissionsData>[] = [\n  {\n    title: 'Plugin',\n    field: 'plugin',\n    type: 'string',\n  },\n  {\n    title: 'Permission',\n    field: 'permission',\n    type: 'string',\n  },\n  {\n    title: 'Policies',\n    field: 'policyString',\n    type: 'string',\n    customSort: (a, b) => {\n      if (a.policies.length === 0) {\n        return -1;\n      }\n      if (b.policies.length === 0) {\n        return 1;\n      }\n      if (a.policies.length === b.policies.length) {\n        return 0;\n      }\n      return a.policies.length < b.policies.length ? -1 : 1;\n    },\n  },\n  {\n    title: 'Conditional',\n    field: 'conditions',\n    type: 'string',\n    render: (permissionsData: PermissionsData) => {\n      const totalRules = getRulesNumber(permissionsData.conditions);\n      return totalRules\n        ? `${totalRules} ${totalRules > 1 ? 'rules' : 'rule'}`\n        : '-';\n    },\n  },\n];\n"],"names":[],"mappings":";;AAoBO,MAAM,OAA0C,GAAA;AAAA,EACrD;AAAA,IACE,KAAO,EAAA,QAAA;AAAA,IACP,KAAO,EAAA,QAAA;AAAA,IACP,IAAM,EAAA;AAAA,GACR;AAAA,EACA;AAAA,IACE,KAAO,EAAA,YAAA;AAAA,IACP,KAAO,EAAA,YAAA;AAAA,IACP,IAAM,EAAA;AAAA,GACR;AAAA,EACA;AAAA,IACE,KAAO,EAAA,UAAA;AAAA,IACP,KAAO,EAAA,cAAA;AAAA,IACP,IAAM,EAAA,QAAA;AAAA,IACN,UAAA,EAAY,CAAC,CAAA,EAAG,CAAM,KAAA;AACpB,MAAI,IAAA,CAAA,CAAE,QAAS,CAAA,MAAA,KAAW,CAAG,EAAA;AAC3B,QAAO,OAAA,CAAA,CAAA;AAAA;AAET,MAAI,IAAA,CAAA,CAAE,QAAS,CAAA,MAAA,KAAW,CAAG,EAAA;AAC3B,QAAO,OAAA,CAAA;AAAA;AAET,MAAA,IAAI,CAAE,CAAA,QAAA,CAAS,MAAW,KAAA,CAAA,CAAE,SAAS,MAAQ,EAAA;AAC3C,QAAO,OAAA,CAAA;AAAA;AAET,MAAA,OAAO,EAAE,QAAS,CAAA,MAAA,GAAS,CAAE,CAAA,QAAA,CAAS,SAAS,CAAK,CAAA,GAAA,CAAA;AAAA;AACtD,GACF;AAAA,EACA;AAAA,IACE,KAAO,EAAA,aAAA;AAAA,IACP,KAAO,EAAA,YAAA;AAAA,IACP,IAAM,EAAA,QAAA;AAAA,IACN,MAAA,EAAQ,CAAC,eAAqC,KAAA;AAC5C,MAAM,MAAA,UAAA,GAAa,cAAe,CAAA,eAAA,CAAgB,UAAU,CAAA;AAC5D,MAAO,OAAA,UAAA,GACH,GAAG,UAAU,CAAA,CAAA,EAAI,aAAa,CAAI,GAAA,OAAA,GAAU,MAAM,CAClD,CAAA,GAAA,GAAA;AAAA;AACN;AAEJ;;;;"}