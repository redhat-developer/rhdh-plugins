{"version":3,"file":"SelectedPermissionPoliciesColumn.esm.js","sources":["../../../src/components/CreateRole/SelectedPermissionPoliciesColumn.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { getRulesNumber } from '../../utils/create-role-utils';\nimport { ConditionsData } from '../ConditionalAccess/types';\nimport { RowPolicy } from './types';\n\nexport const selectedPermissionPoliciesColumn = () => [\n  {\n    title: 'Plugin',\n    field: 'plugin',\n  },\n  {\n    title: 'Permission',\n    field: 'permission',\n  },\n  {\n    title: 'Policies',\n    field: 'policies',\n    render: (policies: RowPolicy[]) => {\n      const policyStr = policies.reduce((acc: string, p) => {\n        if (p.effect === 'allow') return acc.concat(`${p.policy}, `);\n        return acc;\n      }, '');\n      return policyStr.slice(0, policyStr.length - 2);\n    },\n  },\n  {\n    title: 'Conditional',\n    field: 'conditions',\n    render: (conditions: ConditionsData) => {\n      const totalRules = getRulesNumber(conditions);\n      return totalRules\n        ? `${totalRules} ${totalRules > 1 ? 'rules' : 'rule'}`\n        : '-';\n    },\n  },\n];\n"],"names":[],"mappings":";;AAmBO,MAAM,mCAAmC,MAAM;AAAA,EACpD;AAAA,IACE,KAAO,EAAA,QAAA;AAAA,IACP,KAAO,EAAA;AAAA,GACT;AAAA,EACA;AAAA,IACE,KAAO,EAAA,YAAA;AAAA,IACP,KAAO,EAAA;AAAA,GACT;AAAA,EACA;AAAA,IACE,KAAO,EAAA,UAAA;AAAA,IACP,KAAO,EAAA,UAAA;AAAA,IACP,MAAA,EAAQ,CAAC,QAA0B,KAAA;AACjC,MAAA,MAAM,SAAY,GAAA,QAAA,CAAS,MAAO,CAAA,CAAC,KAAa,CAAM,KAAA;AACpD,QAAI,IAAA,CAAA,CAAE,WAAW,OAAS,EAAA,OAAO,IAAI,MAAO,CAAA,CAAA,EAAG,CAAE,CAAA,MAAM,CAAI,EAAA,CAAA,CAAA;AAC3D,QAAO,OAAA,GAAA;AAAA,SACN,EAAE,CAAA;AACL,MAAA,OAAO,SAAU,CAAA,KAAA,CAAM,CAAG,EAAA,SAAA,CAAU,SAAS,CAAC,CAAA;AAAA;AAChD,GACF;AAAA,EACA;AAAA,IACE,KAAO,EAAA,aAAA;AAAA,IACP,KAAO,EAAA,YAAA;AAAA,IACP,MAAA,EAAQ,CAAC,UAA+B,KAAA;AACtC,MAAM,MAAA,UAAA,GAAa,eAAe,UAAU,CAAA;AAC5C,MAAO,OAAA,UAAA,GACH,GAAG,UAAU,CAAA,CAAA,EAAI,aAAa,CAAI,GAAA,OAAA,GAAU,MAAM,CAClD,CAAA,GAAA,GAAA;AAAA;AACN;AAEJ;;;;"}