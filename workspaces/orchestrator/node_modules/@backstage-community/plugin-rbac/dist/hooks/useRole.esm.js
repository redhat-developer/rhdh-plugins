import { useAsync } from 'react-use';
import { useApi } from '@backstage/core-plugin-api';
import { rbacApiRef } from '../api/RBACBackendClient.esm.js';

const useRole = (roleEntityRef) => {
  const rbacApi = useApi(rbacApiRef);
  const {
    value: roles,
    loading,
    error: roleError
  } = useAsync(async () => await rbacApi.getRole(roleEntityRef));
  return {
    loading,
    role: Array.isArray(roles) ? roles[0] : void 0,
    roleError: roleError || {
      name: roles?.status,
      message: `Error fetching the role. ${roles?.statusText}`
    }
  };
};

export { useRole };
//# sourceMappingURL=useRole.esm.js.map
