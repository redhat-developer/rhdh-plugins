import { ObjectDiff } from '../diff/diff';
import { RuleResult } from '../results';
import { FlatOpenAPIV3, FlatOpenAPIV3_1 } from '../flat-openapi-types';
type OpenAPISpec = FlatOpenAPIV3.Document | FlatOpenAPIV3_1.Document;
export declare function typeofV3Diffs(diffs: Diff[]): "added" | "changed" | "removed" | null;
export type Diff = {
    trail: string;
    change: 'added' | 'changed' | 'removed';
} & ({
    before?: undefined;
    after: string;
} | {
    before: string;
    after: string;
} | {
    before: string;
    after?: undefined;
});
type DiffAndRules = {
    diffs: Diff[];
    rules: (RuleResult & {
        trail: string;
    })[];
};
export type Body = {
    fields: Record<string, DiffAndRules>;
    examples: DiffAndRules;
};
export type Response = {
    diffs: Diff[];
    rules: RuleResult[];
    headers: Record<string, DiffAndRules>;
    contents: Record<string, Body>;
};
export type Endpoint = {
    method: string;
    path: string;
    diffs: Diff[];
    rules: RuleResult[];
    queryParameters: Record<string, DiffAndRules>;
    pathParameters: Record<string, DiffAndRules>;
    cookieParameters: Record<string, DiffAndRules>;
    headerParameters: Record<string, DiffAndRules>;
    request: {
        diffs: Diff[];
        rules: RuleResult[];
        contents: Record<string, Body>;
    };
    responses: Record<string, Response>;
};
export declare function getEndpointDiffs(endpoint: Endpoint): Diff[];
export declare function getEndpointRules(endpoint: Endpoint): RuleResult[];
export declare class GroupedDiffs {
    specification: DiffAndRules;
    endpoints: Record<string, Endpoint>;
    unmatched: DiffAndRules;
    constructor();
    getOrSetEndpoint(e: {
        path: string;
        method: string;
    }): Endpoint;
    getOrSetRequestBody(e: {
        path: string;
        method: string;
    }, contentType: string): Body;
    getOrSetResponse(e: {
        path: string;
        method: string;
    }, statusCode: string): Response;
    getOrSetResponseBody(e: {
        path: string;
        method: string;
    }, statusCode: string, contentType: string): Body;
}
export declare function groupDiffsByEndpoint(specs: {
    from: OpenAPISpec;
    to: OpenAPISpec;
}, diffs: ObjectDiff[], rules: RuleResult[]): GroupedDiffs;
export {};
//# sourceMappingURL=group-diff.d.ts.map