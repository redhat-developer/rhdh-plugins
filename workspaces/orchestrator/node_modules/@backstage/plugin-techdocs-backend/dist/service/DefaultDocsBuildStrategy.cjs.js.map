{"version":3,"file":"DefaultDocsBuildStrategy.cjs.js","sources":["../../src/service/DefaultDocsBuildStrategy.ts"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Entity } from '@backstage/catalog-model';\nimport { Config } from '@backstage/config';\nimport { DocsBuildStrategy } from '@backstage/plugin-techdocs-node';\n\nexport class DefaultDocsBuildStrategy implements DocsBuildStrategy {\n  private readonly config: Config;\n\n  private constructor(config: Config) {\n    this.config = config;\n  }\n\n  static fromConfig(config: Config): DefaultDocsBuildStrategy {\n    return new DefaultDocsBuildStrategy(config);\n  }\n\n  async shouldBuild(_: { entity: Entity }): Promise<boolean> {\n    return [undefined, 'local'].includes(\n      this.config.getOptionalString('techdocs.builder'),\n    );\n  }\n}\n"],"names":[],"mappings":";;AAmBO,MAAM,wBAAA,CAAsD;AAAA,EAChD,MAAA;AAAA,EAET,YAAY,MAAA,EAAgB;AAClC,IAAA,IAAA,CAAK,MAAA,GAAS,MAAA;AAAA,EAChB;AAAA,EAEA,OAAO,WAAW,MAAA,EAA0C;AAC1D,IAAA,OAAO,IAAI,yBAAyB,MAAM,CAAA;AAAA,EAC5C;AAAA,EAEA,MAAM,YAAY,CAAA,EAAyC;AACzD,IAAA,OAAO,CAAC,MAAA,EAAW,OAAO,CAAA,CAAE,QAAA;AAAA,MAC1B,IAAA,CAAK,MAAA,CAAO,iBAAA,CAAkB,kBAAkB;AAAA,KAClD;AAAA,EACF;AACF;;;;"}