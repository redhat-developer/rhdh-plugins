'use strict';

var path = require('path');

function getPackageExportDetails(pkg) {
  if (pkg.exports && typeof pkg.exports !== "string") {
    return Object.entries(pkg.exports).flatMap(
      ([mount, path$1]) => {
        const ext = path.extname(path$1);
        if (![".ts", ".tsx", ".cts", ".mts"].includes(ext)) {
          return [];
        }
        let name = mount;
        if (name.startsWith("./")) {
          name = name.slice(2);
        }
        if (!name || name === ".") {
          name = "index";
        }
        const distPath = `${name}.d.ts`;
        const distTypesPath = path$1.replace(/^\.\//, "").replace(/\.[^.]+$/, ".d.ts");
        return [
          {
            name,
            distPath,
            distTypesPath
          }
        ];
      }
    );
  }
  return [
    {
      name: "index",
      distPath: "index.d.ts",
      distTypesPath: "src/index.d.ts"
    }
  ];
}

exports.getPackageExportDetails = getPackageExportDetails;
//# sourceMappingURL=getPackageExportDetails.cjs.js.map
