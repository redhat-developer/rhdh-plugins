{"version":3,"file":"GraphQlDefinition.esm.js","sources":["../../../src/components/GraphQlDefinitionWidget/GraphQlDefinition.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  DocExplorer,\n  EditorContextProvider,\n  ExplorerContextProvider,\n  SchemaContextProvider,\n} from '@graphiql/react';\nimport 'graphiql/graphiql.css';\nimport { buildSchema } from 'graphql';\n\nconst useStyles = makeStyles({\n  root: {\n    height: '100%',\n    display: 'flex',\n    flexFlow: 'column nowrap',\n  },\n  graphiQlWrapper: {\n    flex: 1,\n    '@global': {\n      '.graphiql-container': {\n        boxSizing: 'initial',\n        height: '100%',\n        minHeight: '600px',\n        flex: '1 1 auto',\n      },\n      '.graphiql-sidebar': {\n        width: '100%',\n      },\n    },\n  },\n});\n\ntype Props = {\n  definition: string;\n};\n\nexport const GraphQlDefinition = ({ definition }: Props) => {\n  const classes = useStyles();\n  const schema = buildSchema(definition);\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.graphiQlWrapper}>\n        <EditorContextProvider>\n          <SchemaContextProvider\n            schema={schema}\n            fetcher={() => Promise.resolve(null) as any}\n          >\n            <div className=\"graphiql-container\">\n              <div className=\"graphiql-sidebar\">\n                <div className=\"graphiql-sidebar-section\">\n                  <ExplorerContextProvider>\n                    <DocExplorer />\n                  </ExplorerContextProvider>\n                </div>\n              </div>\n            </div>\n          </SchemaContextProvider>\n        </EditorContextProvider>\n      </div>\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;;AA0BA,MAAM,YAAY,UAAA,CAAW;AAAA,EAC3B,IAAA,EAAM;AAAA,IACJ,MAAA,EAAQ,MAAA;AAAA,IACR,OAAA,EAAS,MAAA;AAAA,IACT,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,eAAA,EAAiB;AAAA,IACf,IAAA,EAAM,CAAA;AAAA,IACN,SAAA,EAAW;AAAA,MACT,qBAAA,EAAuB;AAAA,QACrB,SAAA,EAAW,SAAA;AAAA,QACX,MAAA,EAAQ,MAAA;AAAA,QACR,SAAA,EAAW,OAAA;AAAA,QACX,IAAA,EAAM;AAAA,OACR;AAAA,MACA,mBAAA,EAAqB;AAAA,QACnB,KAAA,EAAO;AAAA;AACT;AACF;AAEJ,CAAC,CAAA;AAMM,MAAM,iBAAA,GAAoB,CAAC,EAAE,UAAA,EAAW,KAAa;AAC1D,EAAA,MAAM,UAAU,SAAA,EAAU;AAC1B,EAAA,MAAM,MAAA,GAAS,YAAY,UAAU,CAAA;AAErC,EAAA,uBACE,GAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAW,OAAA,CAAQ,IAAA,EACtB,QAAA,kBAAA,GAAA,CAAC,KAAA,EAAA,EAAI,SAAA,EAAW,OAAA,CAAQ,eAAA,EACtB,QAAA,kBAAA,GAAA,CAAC,qBAAA,EAAA,EACC,QAAA,kBAAA,GAAA;AAAA,IAAC,qBAAA;AAAA,IAAA;AAAA,MACC,MAAA;AAAA,MACA,OAAA,EAAS,MAAM,OAAA,CAAQ,OAAA,CAAQ,IAAI,CAAA;AAAA,MAEnC,8BAAC,KAAA,EAAA,EAAI,SAAA,EAAU,sBACb,QAAA,kBAAA,GAAA,CAAC,KAAA,EAAA,EAAI,WAAU,kBAAA,EACb,QAAA,kBAAA,GAAA,CAAC,SAAI,SAAA,EAAU,0BAAA,EACb,8BAAC,uBAAA,EAAA,EACC,QAAA,kBAAA,GAAA,CAAC,eAAY,CAAA,EACf,CAAA,EACF,GACF,CAAA,EACF;AAAA;AAAA,GACF,EACF,GACF,CAAA,EACF,CAAA;AAEJ;;;;"}