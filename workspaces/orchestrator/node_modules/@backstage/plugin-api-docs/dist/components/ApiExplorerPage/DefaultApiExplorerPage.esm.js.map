{"version":3,"file":"DefaultApiExplorerPage.esm.js","sources":["../../../src/components/ApiExplorerPage/DefaultApiExplorerPage.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  Content,\n  ContentHeader,\n  CreateButton,\n  PageWithHeader,\n  SupportButton,\n  TableColumn,\n  TableProps,\n} from '@backstage/core-components';\nimport { configApiRef, useApi, useRouteRef } from '@backstage/core-plugin-api';\nimport { CatalogTable, CatalogTableRow } from '@backstage/plugin-catalog';\nimport {\n  EntityKindPicker,\n  EntityLifecyclePicker,\n  EntityListProvider,\n  EntityListPagination,\n  EntityOwnerPicker,\n  EntityTagPicker,\n  EntityTypePicker,\n  UserListFilterKind,\n  UserListPicker,\n  CatalogFilterLayout,\n  EntityOwnerPickerProps,\n} from '@backstage/plugin-catalog-react';\nimport { registerComponentRouteRef } from '../../routes';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { catalogEntityCreatePermission } from '@backstage/plugin-catalog-common/alpha';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport { apiDocsTranslationRef } from '../../translation';\n\nconst defaultColumns: TableColumn<CatalogTableRow>[] = [\n  CatalogTable.columns.createTitleColumn({ hidden: true }),\n  CatalogTable.columns.createNameColumn({ defaultKind: 'API' }),\n  CatalogTable.columns.createSystemColumn(),\n  CatalogTable.columns.createOwnerColumn(),\n  CatalogTable.columns.createSpecTypeColumn(),\n  CatalogTable.columns.createSpecLifecycleColumn(),\n  CatalogTable.columns.createMetadataDescriptionColumn(),\n  CatalogTable.columns.createTagsColumn(),\n];\n\n/**\n * DefaultApiExplorerPageProps\n * @public\n */\nexport type DefaultApiExplorerPageProps = {\n  initiallySelectedFilter?: UserListFilterKind;\n  columns?: TableColumn<CatalogTableRow>[];\n  actions?: TableProps<CatalogTableRow>['actions'];\n  ownerPickerMode?: EntityOwnerPickerProps['mode'];\n  pagination?: EntityListPagination;\n};\n\n/**\n * DefaultApiExplorerPage\n * @public\n */\nexport const DefaultApiExplorerPage = (props: DefaultApiExplorerPageProps) => {\n  const {\n    initiallySelectedFilter = 'all',\n    columns,\n    actions,\n    ownerPickerMode,\n    pagination,\n  } = props;\n\n  const configApi = useApi(configApiRef);\n  const { t } = useTranslationRef(apiDocsTranslationRef);\n  const generatedSubtitle = t('defaultApiExplorerPage.subtitle', {\n    orgName: configApi.getOptionalString('organization.name') ?? 'Backstage',\n  });\n  const registerComponentLink = useRouteRef(registerComponentRouteRef);\n  const { allowed } = usePermission({\n    permission: catalogEntityCreatePermission,\n  });\n\n  return (\n    <PageWithHeader\n      themeId=\"apis\"\n      title={t('defaultApiExplorerPage.title')}\n      subtitle={generatedSubtitle}\n      pageTitleOverride={t('defaultApiExplorerPage.pageTitleOverride')}\n    >\n      <Content>\n        <ContentHeader title=\"\">\n          {allowed && (\n            <CreateButton\n              title={t('defaultApiExplorerPage.createButtonTitle')}\n              to={registerComponentLink?.()}\n            />\n          )}\n          <SupportButton>\n            {t('defaultApiExplorerPage.supportButtonTitle')}\n          </SupportButton>\n        </ContentHeader>\n        <EntityListProvider pagination={pagination}>\n          <CatalogFilterLayout>\n            <CatalogFilterLayout.Filters>\n              <EntityKindPicker initialFilter=\"api\" hidden />\n              <EntityTypePicker />\n              <UserListPicker initialFilter={initiallySelectedFilter} />\n              <EntityOwnerPicker mode={ownerPickerMode} />\n              <EntityLifecyclePicker />\n              <EntityTagPicker />\n            </CatalogFilterLayout.Filters>\n            <CatalogFilterLayout.Content>\n              <CatalogTable\n                columns={columns || defaultColumns}\n                actions={actions}\n              />\n            </CatalogFilterLayout.Content>\n          </CatalogFilterLayout>\n        </EntityListProvider>\n      </Content>\n    </PageWithHeader>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;AA8CA,MAAM,cAAA,GAAiD;AAAA,EACrD,aAAa,OAAA,CAAQ,iBAAA,CAAkB,EAAE,MAAA,EAAQ,MAAM,CAAA;AAAA,EACvD,aAAa,OAAA,CAAQ,gBAAA,CAAiB,EAAE,WAAA,EAAa,OAAO,CAAA;AAAA,EAC5D,YAAA,CAAa,QAAQ,kBAAA,EAAmB;AAAA,EACxC,YAAA,CAAa,QAAQ,iBAAA,EAAkB;AAAA,EACvC,YAAA,CAAa,QAAQ,oBAAA,EAAqB;AAAA,EAC1C,YAAA,CAAa,QAAQ,yBAAA,EAA0B;AAAA,EAC/C,YAAA,CAAa,QAAQ,+BAAA,EAAgC;AAAA,EACrD,YAAA,CAAa,QAAQ,gBAAA;AACvB,CAAA;AAkBO,MAAM,sBAAA,GAAyB,CAAC,KAAA,KAAuC;AAC5E,EAAA,MAAM;AAAA,IACJ,uBAAA,GAA0B,KAAA;AAAA,IAC1B,OAAA;AAAA,IACA,OAAA;AAAA,IACA,eAAA;AAAA,IACA;AAAA,GACF,GAAI,KAAA;AAEJ,EAAA,MAAM,SAAA,GAAY,OAAO,YAAY,CAAA;AACrC,EAAA,MAAM,EAAE,CAAA,EAAE,GAAI,iBAAA,CAAkB,qBAAqB,CAAA;AACrD,EAAA,MAAM,iBAAA,GAAoB,EAAE,iCAAA,EAAmC;AAAA,IAC7D,OAAA,EAAS,SAAA,CAAU,iBAAA,CAAkB,mBAAmB,CAAA,IAAK;AAAA,GAC9D,CAAA;AACD,EAAA,MAAM,qBAAA,GAAwB,YAAY,yBAAyB,CAAA;AACnE,EAAA,MAAM,EAAE,OAAA,EAAQ,GAAI,aAAA,CAAc;AAAA,IAChC,UAAA,EAAY;AAAA,GACb,CAAA;AAED,EAAA,uBACE,GAAA;AAAA,IAAC,cAAA;AAAA,IAAA;AAAA,MACC,OAAA,EAAQ,MAAA;AAAA,MACR,KAAA,EAAO,EAAE,8BAA8B,CAAA;AAAA,MACvC,QAAA,EAAU,iBAAA;AAAA,MACV,iBAAA,EAAmB,EAAE,0CAA0C,CAAA;AAAA,MAE/D,+BAAC,OAAA,EAAA,EACC,QAAA,EAAA;AAAA,wBAAA,IAAA,CAAC,aAAA,EAAA,EAAc,OAAM,EAAA,EAClB,QAAA,EAAA;AAAA,UAAA,OAAA,oBACC,GAAA;AAAA,YAAC,YAAA;AAAA,YAAA;AAAA,cACC,KAAA,EAAO,EAAE,0CAA0C,CAAA;AAAA,cACnD,IAAI,qBAAA;AAAwB;AAAA,WAC9B;AAAA,0BAEF,GAAA,CAAC,aAAA,EAAA,EACE,QAAA,EAAA,CAAA,CAAE,2CAA2C,CAAA,EAChD;AAAA,SAAA,EACF,CAAA;AAAA,wBACA,GAAA,CAAC,kBAAA,EAAA,EAAmB,UAAA,EAClB,QAAA,kBAAA,IAAA,CAAC,mBAAA,EAAA,EACC,QAAA,EAAA;AAAA,0BAAA,IAAA,CAAC,mBAAA,CAAoB,SAApB,EACC,QAAA,EAAA;AAAA,4BAAA,GAAA,CAAC,gBAAA,EAAA,EAAiB,aAAA,EAAc,KAAA,EAAM,MAAA,EAAM,IAAA,EAAC,CAAA;AAAA,gCAC5C,gBAAA,EAAA,EAAiB,CAAA;AAAA,4BAClB,GAAA,CAAC,cAAA,EAAA,EAAe,aAAA,EAAe,uBAAA,EAAyB,CAAA;AAAA,4BACxD,GAAA,CAAC,iBAAA,EAAA,EAAkB,IAAA,EAAM,eAAA,EAAiB,CAAA;AAAA,gCACzC,qBAAA,EAAA,EAAsB,CAAA;AAAA,gCACtB,eAAA,EAAA,EAAgB;AAAA,WAAA,EACnB,CAAA;AAAA,0BACA,GAAA,CAAC,mBAAA,CAAoB,OAAA,EAApB,EACC,QAAA,kBAAA,GAAA;AAAA,YAAC,YAAA;AAAA,YAAA;AAAA,cACC,SAAS,OAAA,IAAW,cAAA;AAAA,cACpB;AAAA;AAAA,WACF,EACF;AAAA,SAAA,EACF,CAAA,EACF;AAAA,OAAA,EACF;AAAA;AAAA,GACF;AAEJ;;;;"}