{"version":3,"file":"HighlightedSearchResultText.esm.js","sources":["../../../src/components/HighlightedSearchResultText/HighlightedSearchResultText.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useMemo } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\n/** @public */\nexport type HighlightedSearchResultTextClassKey = 'highlight';\n\nconst useStyles = makeStyles(\n  () => ({\n    highlight: {},\n  }),\n  { name: 'BackstageHighlightedSearchResultText' },\n);\n\n/**\n * Props for {@link HighlightedSearchResultText}.\n *\n * @public\n */\nexport type HighlightedSearchResultTextProps = {\n  text: string;\n  preTag: string;\n  postTag: string;\n};\n\n/**\n * @public\n */\nexport const HighlightedSearchResultText = (\n  props: HighlightedSearchResultTextProps,\n) => {\n  const { text, preTag, postTag } = props;\n\n  const classes = useStyles();\n  const terms = useMemo(\n    () => text.split(new RegExp(`(${preTag}.+?${postTag})`)),\n    [postTag, preTag, text],\n  );\n\n  return (\n    <>\n      {terms.map((t, idx) =>\n        t.includes(preTag) ? (\n          <mark className={classes.highlight} key={idx}>\n            {t.replace(new RegExp(`${preTag}|${postTag}`, 'g'), '')}\n          </mark>\n        ) : (\n          t\n        ),\n      )}\n    </>\n  );\n};\n"],"names":[],"mappings":";;;;AAsBA,MAAM,SAAA,GAAY,UAAA;AAAA,EAChB,OAAO;AAAA,IACL,WAAW;AAAC,GACd,CAAA;AAAA,EACA,EAAE,MAAM,sCAAA;AACV,CAAA;AAgBO,MAAM,2BAAA,GAA8B,CACzC,KAAA,KACG;AACH,EAAA,MAAM,EAAE,IAAA,EAAM,MAAA,EAAQ,OAAA,EAAQ,GAAI,KAAA;AAElC,EAAA,MAAM,UAAU,SAAA,EAAU;AAC1B,EAAA,MAAM,KAAA,GAAQ,OAAA;AAAA,IACZ,MAAM,IAAA,CAAK,KAAA,CAAM,IAAI,MAAA,CAAO,IAAI,MAAM,CAAA,GAAA,EAAM,OAAO,CAAA,CAAA,CAAG,CAAC,CAAA;AAAA,IACvD,CAAC,OAAA,EAAS,MAAA,EAAQ,IAAI;AAAA,GACxB;AAEA,EAAA,uCAEK,QAAA,EAAA,KAAA,CAAM,GAAA;AAAA,IAAI,CAAC,CAAA,EAAG,GAAA,KACb,CAAA,CAAE,QAAA,CAAS,MAAM,CAAA,mBACf,GAAA,CAAC,MAAA,EAAA,EAAK,SAAA,EAAW,OAAA,CAAQ,SAAA,EACtB,QAAA,EAAA,CAAA,CAAE,QAAQ,IAAI,MAAA,CAAO,CAAA,EAAG,MAAM,CAAA,CAAA,EAAI,OAAO,CAAA,CAAA,EAAI,GAAG,CAAA,EAAG,EAAE,CAAA,EAAA,EADf,GAEzC,CAAA,GAEA;AAAA,GAEJ,EACF,CAAA;AAEJ;;;;"}