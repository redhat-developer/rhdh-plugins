import { jsxs, jsx } from 'react/jsx-runtime';
import { useSidebarPinState, Page, Header, RoutedTabs } from '@backstage/core-components';
import { useElementFilter, attachComponentData } from '@backstage/core-plugin-api';
import { useTranslationRef } from '@backstage/frontend-plugin-api';
import { userSettingsTranslationRef } from '../../translation.esm.js';

const LAYOUT_DATA_KEY = "plugin.user-settings.settingsLayout";
const LAYOUT_ROUTE_DATA_KEY = "plugin.user-settings.settingsLayoutRoute";
const Route = () => null;
attachComponentData(Route, LAYOUT_ROUTE_DATA_KEY, true);
attachComponentData(Route, "core.gatherMountPoints", true);
const SettingsLayout = (props) => {
  const { title, children } = props;
  const { isMobile } = useSidebarPinState();
  const { t } = useTranslationRef(userSettingsTranslationRef);
  const routes = useElementFilter(
    children,
    (elements) => elements.selectByComponentData({
      key: LAYOUT_ROUTE_DATA_KEY,
      withStrictError: "Child of SettingsLayout must be an SettingsLayout.Route"
    }).getElements().map((child) => child.props)
  );
  return /* @__PURE__ */ jsxs(Page, { themeId: "home", children: [
    !isMobile && /* @__PURE__ */ jsx(Header, { title: title ?? t("settingsLayout.title") }),
    /* @__PURE__ */ jsx(RoutedTabs, { routes })
  ] });
};
attachComponentData(SettingsLayout, LAYOUT_DATA_KEY, true);
SettingsLayout.Route = Route;

export { LAYOUT_DATA_KEY, LAYOUT_ROUTE_DATA_KEY, SettingsLayout };
//# sourceMappingURL=SettingsLayout.esm.js.map
