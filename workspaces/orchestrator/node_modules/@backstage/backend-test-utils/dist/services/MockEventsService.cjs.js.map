{"version":3,"file":"MockEventsService.cjs.js","sources":["../../src/services/MockEventsService.ts"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  EventParams,\n  EventsService,\n  EventsServiceSubscribeOptions,\n} from '@backstage/plugin-events-node';\n\nexport class MockEventsService implements EventsService {\n  #subscribers: EventsServiceSubscribeOptions[];\n\n  constructor() {\n    this.#subscribers = [];\n  }\n\n  async publish(params: EventParams): Promise<void> {\n    for (const subscriber of this.#subscribers) {\n      if (subscriber.topics.includes(params.topic)) {\n        await subscriber.onEvent(params);\n      }\n    }\n  }\n\n  async subscribe(options: EventsServiceSubscribeOptions): Promise<void> {\n    this.#subscribers.push(options);\n  }\n}\n"],"names":[],"mappings":";;AAsBO,MAAM,iBAAA,CAA2C;AAAA,EACtD,YAAA;AAAA,EAEA,WAAA,GAAc;AACZ,IAAA,IAAA,CAAK,eAAe,EAAC;AAAA,EACvB;AAAA,EAEA,MAAM,QAAQ,MAAA,EAAoC;AAChD,IAAA,KAAA,MAAW,UAAA,IAAc,KAAK,YAAA,EAAc;AAC1C,MAAA,IAAI,UAAA,CAAW,MAAA,CAAO,QAAA,CAAS,MAAA,CAAO,KAAK,CAAA,EAAG;AAC5C,QAAA,MAAM,UAAA,CAAW,QAAQ,MAAM,CAAA;AAAA,MACjC;AAAA,IACF;AAAA,EACF;AAAA,EAEA,MAAM,UAAU,OAAA,EAAuD;AACrE,IAAA,IAAA,CAAK,YAAA,CAAa,KAAK,OAAO,CAAA;AAAA,EAChC;AACF;;;;"}