import { jsxs, Fragment, jsx } from 'react/jsx-runtime';
import { useEffect } from 'react';
import CssBaseline from '@material-ui/core/CssBaseline';
import { createGenerateClassName, StylesProvider, ThemeProvider } from '@material-ui/core/styles';
import { StyledEngineProvider, ThemeProvider as ThemeProvider$1 } from '@mui/material/styles';
import { unstable_ClassNameGenerator } from '@mui/material/className';

unstable_ClassNameGenerator.configure((componentName) => {
  return `v5-${componentName}`;
});
const generateV4ClassName = createGenerateClassName({
  productionPrefix: "jss4-"
});
function UnifiedThemeProvider(props) {
  const { children, theme, noCssBaseline = false } = props;
  const v4Theme = theme.getTheme("v4");
  const v5Theme = theme.getTheme("v5");
  const themeMode = v4Theme ? v4Theme.palette.type : v5Theme?.palette.mode;
  const themeName = "backstage";
  useEffect(() => {
    document.body.setAttribute("data-theme-mode", themeMode);
    document.body.setAttribute("data-theme-name", themeName);
    return () => {
      document.body.removeAttribute("data-theme-mode");
      document.body.removeAttribute("data-theme-name");
    };
  }, [themeMode, themeName]);
  let cssBaseline = void 0;
  if (!noCssBaseline) {
    cssBaseline = /* @__PURE__ */ jsx(CssBaseline, {});
  }
  let result = /* @__PURE__ */ jsxs(Fragment, { children: [
    cssBaseline,
    children
  ] });
  if (v4Theme) {
    result = /* @__PURE__ */ jsx(StylesProvider, { generateClassName: generateV4ClassName, children: /* @__PURE__ */ jsx(ThemeProvider, { theme: v4Theme, children: result }) });
  }
  if (v5Theme) {
    result = /* @__PURE__ */ jsx(StyledEngineProvider, { injectFirst: true, children: /* @__PURE__ */ jsx(ThemeProvider$1, { theme: v5Theme, children: result }) });
  }
  return result;
}

export { UnifiedThemeProvider };
//# sourceMappingURL=UnifiedThemeProvider.esm.js.map
