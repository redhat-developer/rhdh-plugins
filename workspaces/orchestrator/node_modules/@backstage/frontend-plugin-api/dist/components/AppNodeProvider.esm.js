import { jsx } from 'react/jsx-runtime';
import { createVersionedContext, createVersionedValueMap, useVersionedContext } from '@backstage/version-bridge';

const CONTEXT_KEY = "app-node-context";
const AppNodeContext = createVersionedContext(CONTEXT_KEY);
function AppNodeProvider({
  node,
  children
}) {
  const versionedValue = createVersionedValueMap({ 1: { node } });
  return /* @__PURE__ */ jsx(AppNodeContext.Provider, { value: versionedValue, children });
}
function useAppNode() {
  const versionedContext = useVersionedContext(CONTEXT_KEY);
  if (!versionedContext) {
    return void 0;
  }
  const context = versionedContext.atVersion(1);
  if (!context) {
    throw new Error("AppNodeContext v1 not available");
  }
  return context.node;
}

export { AppNodeProvider, useAppNode };
//# sourceMappingURL=AppNodeProvider.esm.js.map
