import { jsx, jsxs } from 'react/jsx-runtime';
import Typography from '@material-ui/core/Typography';
import { useEntity, useRelatedEntities, EntityTable } from '@backstage/plugin-catalog-react';
import { InfoCard, Progress, ResponseErrorPanel, Link } from '@backstage/core-components';
import { componentEntityColumns, componentEntityHelpLink, asComponentEntities, resourceEntityColumns, resourceEntityHelpLink, asResourceEntities, systemEntityColumns, systemEntityHelpLink, asSystemEntities, domainEntityColumns, domainEntityHelpLink, asDomainEntities } from './presets.esm.js';
import { catalogTranslationRef } from '../../alpha/translation.esm.js';
import { useTranslationRef } from '@backstage/core-plugin-api/alpha';

const RelatedEntitiesCard = (props) => {
  const {
    variant = "gridItem",
    title,
    columns,
    entityKind,
    relationType,
    emptyMessage,
    emptyHelpLink,
    asRenderableEntities,
    tableOptions = {}
  } = props;
  const { t } = useTranslationRef(catalogTranslationRef);
  const { entity } = useEntity();
  const { entities, loading, error } = useRelatedEntities(entity, {
    type: relationType,
    kind: entityKind
  });
  if (loading) {
    return /* @__PURE__ */ jsx(InfoCard, { variant, title, children: /* @__PURE__ */ jsx(Progress, {}) });
  }
  if (error) {
    return /* @__PURE__ */ jsx(InfoCard, { variant, title, children: /* @__PURE__ */ jsx(ResponseErrorPanel, { error }) });
  }
  return /* @__PURE__ */ jsx(
    EntityTable,
    {
      title,
      variant,
      emptyContent: /* @__PURE__ */ jsxs("div", { style: { textAlign: "center" }, children: [
        /* @__PURE__ */ jsx(Typography, { variant: "body1", children: emptyMessage }),
        /* @__PURE__ */ jsx(Typography, { variant: "body2", children: /* @__PURE__ */ jsx(Link, { to: emptyHelpLink, externalLinkIcon: true, children: t("relatedEntitiesCard.emptyHelpLinkTitle") }) })
      ] }),
      columns,
      entities: asRenderableEntities(entities || []),
      tableOptions
    }
  );
};
RelatedEntitiesCard.componentEntityColumns = componentEntityColumns;
RelatedEntitiesCard.componentEntityHelpLink = componentEntityHelpLink;
RelatedEntitiesCard.asComponentEntities = asComponentEntities;
RelatedEntitiesCard.resourceEntityColumns = resourceEntityColumns;
RelatedEntitiesCard.resourceEntityHelpLink = resourceEntityHelpLink;
RelatedEntitiesCard.asResourceEntities = asResourceEntities;
RelatedEntitiesCard.systemEntityColumns = systemEntityColumns;
RelatedEntitiesCard.systemEntityHelpLink = systemEntityHelpLink;
RelatedEntitiesCard.asSystemEntities = asSystemEntities;
RelatedEntitiesCard.domainEntityColums = domainEntityColumns;
RelatedEntitiesCard.domainEntityHelpLink = domainEntityHelpLink;
RelatedEntitiesCard.asDomainEntities = asDomainEntities;

export { RelatedEntitiesCard };
//# sourceMappingURL=RelatedEntitiesCard.esm.js.map
