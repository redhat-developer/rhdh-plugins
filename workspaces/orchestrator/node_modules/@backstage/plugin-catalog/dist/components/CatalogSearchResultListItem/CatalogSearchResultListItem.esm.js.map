{"version":3,"file":"CatalogSearchResultListItem.esm.js","sources":["../../../src/components/CatalogSearchResultListItem/CatalogSearchResultListItem.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { ReactNode } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Chip from '@material-ui/core/Chip';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Link } from '@backstage/core-components';\nimport {\n  IndexableDocument,\n  ResultHighlight,\n} from '@backstage/plugin-search-common';\nimport { HighlightedSearchResultText } from '@backstage/plugin-search-react';\nimport { catalogTranslationRef } from '../../alpha/translation';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\n\n/** @public */\nexport type CatalogSearchResultListItemClassKey =\n  | 'item'\n  | 'flexContainer'\n  | 'itemText';\n\nconst useStyles = makeStyles(\n  {\n    item: {\n      display: 'flex',\n    },\n    flexContainer: {\n      flexWrap: 'wrap',\n    },\n    itemText: {\n      width: '100%',\n      wordBreak: 'break-all',\n      marginBottom: '1rem',\n    },\n  },\n  { name: 'CatalogSearchResultListItem' },\n);\n\n/**\n * Props for {@link CatalogSearchResultListItem}.\n *\n * @public\n */\nexport interface CatalogSearchResultListItemProps {\n  icon?: ReactNode | ((result: IndexableDocument) => ReactNode);\n  result?: IndexableDocument;\n  highlight?: ResultHighlight;\n  rank?: number;\n  lineClamp?: number;\n}\n\n/** @public */\nexport function CatalogSearchResultListItem(\n  props: CatalogSearchResultListItemProps,\n) {\n  const result = props.result as any;\n  const highlight = props.highlight as ResultHighlight;\n\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogTranslationRef);\n\n  if (!result) return null;\n\n  return (\n    <div className={classes.item}>\n      {props.icon && (\n        <ListItemIcon>\n          {typeof props.icon === 'function' ? props.icon(result) : props.icon}\n        </ListItemIcon>\n      )}\n      <div className={classes.flexContainer}>\n        <ListItemText\n          className={classes.itemText}\n          primaryTypographyProps={{ variant: 'h6' }}\n          primary={\n            <Link noTrack to={result.location}>\n              {highlight?.fields.title ? (\n                <HighlightedSearchResultText\n                  text={highlight.fields.title}\n                  preTag={highlight.preTag}\n                  postTag={highlight.postTag}\n                />\n              ) : (\n                result.title\n              )}\n            </Link>\n          }\n          secondary={\n            <Typography\n              component=\"span\"\n              style={{\n                display: '-webkit-box',\n                WebkitBoxOrient: 'vertical',\n                WebkitLineClamp: props.lineClamp,\n                overflow: 'hidden',\n              }}\n              color=\"textSecondary\"\n              variant=\"body2\"\n            >\n              {highlight?.fields.text ? (\n                <HighlightedSearchResultText\n                  text={highlight.fields.text}\n                  preTag={highlight.preTag}\n                  postTag={highlight.postTag}\n                />\n              ) : (\n                result.text\n              )}\n            </Typography>\n          }\n        />\n        <Box>\n          {result.kind && <Chip label={`Kind: ${result.kind}`} size=\"small\" />}\n          {result.type && <Chip label={`Type: ${result.type}`} size=\"small\" />}\n          {result.lifecycle && (\n            <Chip\n              label={`${t('searchResultItem.lifecycle')}: ${result.lifecycle}`}\n              size=\"small\"\n            />\n          )}\n          {result.owner && (\n            <Chip\n              label={`${t('searchResultItem.Owner')}: ${result.owner}`}\n              size=\"small\"\n            />\n          )}\n        </Box>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}