{"version":3,"file":"CursorPaginatedCatalogTable.esm.js","sources":["../../../src/components/CatalogTable/CursorPaginatedCatalogTable.tsx"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Table, TableProps } from '@backstage/core-components';\nimport { CatalogTableRow } from './types';\nimport { CatalogTableToolbar } from './CatalogTableToolbar';\n\ntype PaginatedCatalogTableProps = {\n  prev?(): void;\n  next?(): void;\n} & TableProps<CatalogTableRow>;\n\n/**\n * @internal\n */\n\nexport function CursorPaginatedCatalogTable(props: PaginatedCatalogTableProps) {\n  const { columns, data, next, prev, options, ...restProps } = props;\n\n  return (\n    <Table\n      columns={columns}\n      data={data}\n      options={{\n        ...options,\n        // These settings are configured to force server side pagination\n        pageSizeOptions: [],\n        showFirstLastPageButtons: false,\n        pageSize: Number.MAX_SAFE_INTEGER,\n        emptyRowsWhenPaging: false,\n      }}\n      onPageChange={page => {\n        if (page > 0) {\n          next?.();\n        } else {\n          prev?.();\n        }\n      }}\n      components={{\n        Toolbar: CatalogTableToolbar,\n      }}\n      /* this will enable the prev button accordingly */\n      page={prev ? 1 : 0}\n      /* this will enable the next button accordingly */\n      totalCount={next ? Number.MAX_VALUE : Number.MAX_SAFE_INTEGER}\n      localization={{ pagination: { labelDisplayedRows: '' } }}\n      {...restProps}\n    />\n  );\n}\n"],"names":[],"mappings":";;;;AA6BO,SAAS,4BAA4B,KAAA,EAAmC;AAC7E,EAAA,MAAM,EAAE,SAAS,IAAA,EAAM,IAAA,EAAM,MAAM,OAAA,EAAS,GAAG,WAAU,GAAI,KAAA;AAE7D,EAAA,uBACE,GAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,OAAA;AAAA,MACA,IAAA;AAAA,MACA,OAAA,EAAS;AAAA,QACP,GAAG,OAAA;AAAA;AAAA,QAEH,iBAAiB,EAAC;AAAA,QAClB,wBAAA,EAA0B,KAAA;AAAA,QAC1B,UAAU,MAAA,CAAO,gBAAA;AAAA,QACjB,mBAAA,EAAqB;AAAA,OACvB;AAAA,MACA,cAAc,CAAA,IAAA,KAAQ;AACpB,QAAA,IAAI,OAAO,CAAA,EAAG;AACZ,UAAA,IAAA,IAAO;AAAA,QACT,CAAA,MAAO;AACL,UAAA,IAAA,IAAO;AAAA,QACT;AAAA,MACF,CAAA;AAAA,MACA,UAAA,EAAY;AAAA,QACV,OAAA,EAAS;AAAA,OACX;AAAA,MAEA,IAAA,EAAM,OAAO,CAAA,GAAI,CAAA;AAAA,MAEjB,UAAA,EAAY,IAAA,GAAO,MAAA,CAAO,SAAA,GAAY,MAAA,CAAO,gBAAA;AAAA,MAC7C,cAAc,EAAE,UAAA,EAAY,EAAE,kBAAA,EAAoB,IAAG,EAAE;AAAA,MACtD,GAAG;AAAA;AAAA,GACN;AAEJ;;;;"}