{"version":3,"file":"EntityLabelsCard.esm.js","sources":["../../../src/components/EntityLabelsCard/EntityLabelsCard.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport {\n  InfoCard,\n  InfoCardVariants,\n  Table,\n  TableColumn,\n} from '@backstage/core-components';\nimport { EntityLabelsEmptyState } from './EntityLabelsEmptyState';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { catalogTranslationRef } from '../../alpha/translation';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\n/** @public */\nexport interface EntityLabelsCardProps {\n  variant?: InfoCardVariants;\n  title?: string;\n}\n\nconst useStyles = makeStyles(_ => ({\n  key: {\n    fontWeight: 'bold',\n  },\n}));\n\nexport const EntityLabelsCard = (props: EntityLabelsCardProps) => {\n  const { variant, title } = props;\n  const { entity } = useEntity();\n  const classes = useStyles();\n  const { t } = useTranslationRef(catalogTranslationRef);\n\n  const columns: TableColumn<{ key: string; value: string }>[] = [\n    {\n      render: row => {\n        return (\n          <Typography className={classes.key} variant=\"body2\">\n            {row.key}\n          </Typography>\n        );\n      },\n    },\n    {\n      field: 'value',\n    },\n  ];\n\n  const labels = entity?.metadata?.labels;\n\n  return (\n    <InfoCard title={title || t('entityLabelsCard.title')} variant={variant}>\n      {!labels || Object.keys(labels).length === 0 ? (\n        <EntityLabelsEmptyState />\n      ) : (\n        <Table\n          columns={columns}\n          data={Object.keys(labels).map(labelKey => ({\n            key: labelKey,\n            value: labels[labelKey],\n          }))}\n          options={{\n            search: false,\n            showTitle: true,\n            loadingType: 'linear',\n            header: false,\n            padding: 'dense',\n            pageSize: 5,\n            toolbar: false,\n            paging: Object.keys(labels).length > 5,\n          }}\n        />\n      )}\n    </InfoCard>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;AAmCA,MAAM,SAAA,GAAY,WAAW,CAAA,CAAA,MAAM;AAAA,EACjC,GAAA,EAAK;AAAA,IACH,UAAA,EAAY;AAAA;AAEhB,CAAA,CAAE,CAAA;AAEK,MAAM,gBAAA,GAAmB,CAAC,KAAA,KAAiC;AAChE,EAAA,MAAM,EAAE,OAAA,EAAS,KAAA,EAAM,GAAI,KAAA;AAC3B,EAAA,MAAM,EAAE,MAAA,EAAO,GAAI,SAAA,EAAU;AAC7B,EAAA,MAAM,UAAU,SAAA,EAAU;AAC1B,EAAA,MAAM,EAAE,CAAA,EAAE,GAAI,iBAAA,CAAkB,qBAAqB,CAAA;AAErD,EAAA,MAAM,OAAA,GAAyD;AAAA,IAC7D;AAAA,MACE,QAAQ,CAAA,GAAA,KAAO;AACb,QAAA,uBACE,GAAA,CAAC,cAAW,SAAA,EAAW,OAAA,CAAQ,KAAK,OAAA,EAAQ,OAAA,EACzC,cAAI,GAAA,EACP,CAAA;AAAA,MAEJ;AAAA,KACF;AAAA,IACA;AAAA,MACE,KAAA,EAAO;AAAA;AACT,GACF;AAEA,EAAA,MAAM,MAAA,GAAS,QAAQ,QAAA,EAAU,MAAA;AAEjC,EAAA,2BACG,QAAA,EAAA,EAAS,KAAA,EAAO,SAAS,CAAA,CAAE,wBAAwB,GAAG,OAAA,EACpD,QAAA,EAAA,CAAC,MAAA,IAAU,MAAA,CAAO,KAAK,MAAM,CAAA,CAAE,WAAW,CAAA,mBACzC,GAAA,CAAC,0BAAuB,CAAA,mBAExB,GAAA;AAAA,IAAC,KAAA;AAAA,IAAA;AAAA,MACC,OAAA;AAAA,MACA,MAAM,MAAA,CAAO,IAAA,CAAK,MAAM,CAAA,CAAE,IAAI,CAAA,QAAA,MAAa;AAAA,QACzC,GAAA,EAAK,QAAA;AAAA,QACL,KAAA,EAAO,OAAO,QAAQ;AAAA,OACxB,CAAE,CAAA;AAAA,MACF,OAAA,EAAS;AAAA,QACP,MAAA,EAAQ,KAAA;AAAA,QACR,SAAA,EAAW,IAAA;AAAA,QACX,WAAA,EAAa,QAAA;AAAA,QACb,MAAA,EAAQ,KAAA;AAAA,QACR,OAAA,EAAS,OAAA;AAAA,QACT,QAAA,EAAU,CAAA;AAAA,QACV,OAAA,EAAS,KAAA;AAAA,QACT,MAAA,EAAQ,MAAA,CAAO,IAAA,CAAK,MAAM,EAAE,MAAA,GAAS;AAAA;AACvC;AAAA,GACF,EAEJ,CAAA;AAEJ;;;;"}