{"version":3,"file":"EntityTabsList.esm.js","sources":["../../../../src/alpha/components/EntityTabs/EntityTabsList.tsx"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useCallback, useEffect, useMemo, useState } from 'react';\nimport Box from '@material-ui/core/Box';\nimport Tabs from '@material-ui/core/Tabs';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { EntityTabsGroup } from './EntityTabsGroup';\n\n/** @public */\nexport type HeaderTabsClassKey =\n  | 'tabsWrapper'\n  | 'defaultTab'\n  | 'selected'\n  | 'tabRoot';\n\nconst useStyles = makeStyles(\n  theme => ({\n    tabsWrapper: {\n      gridArea: 'pageSubheader',\n      backgroundColor: theme.palette.background.paper,\n      paddingLeft: theme.spacing(3),\n      minWidth: 0,\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: 'uppercase',\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary,\n    },\n    selected: {\n      color: theme.palette.text.primary,\n    },\n    tabRoot: {\n      '&:hover': {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary,\n      },\n    },\n  }),\n  { name: 'BackstageHeaderTabs' },\n);\n\ntype Tab = {\n  id: string;\n  label: string;\n  path: string;\n  group: string;\n};\n\ntype TabItem = {\n  group: string;\n  id: string;\n  index: number;\n  label: string;\n  path: string;\n};\n\ntype EntityTabsListProps = {\n  tabs: Tab[];\n  selectedIndex?: number;\n  onChange?: (index: number) => void;\n};\n\nexport function EntityTabsList(props: EntityTabsListProps) {\n  const styles = useStyles();\n\n  const { tabs: items, onChange, selectedIndex: selectedItem = 0 } = props;\n\n  const groups = useMemo(\n    () => [...new Set(items.map(item => item.group))],\n    [items],\n  );\n\n  const [selectedGroup, setSelectedGroup] = useState<number>(\n    selectedItem && items[selectedItem]\n      ? groups.indexOf(items[selectedItem].group)\n      : 0,\n  );\n\n  const handleChange = useCallback(\n    (index: number) => {\n      if (selectedItem !== index) onChange?.(index);\n    },\n    [selectedItem, onChange],\n  );\n\n  useEffect(() => {\n    if (selectedItem === undefined || !items[selectedItem]) return;\n    setSelectedGroup(groups.indexOf(items[selectedItem].group));\n  }, [items, selectedItem, groups, setSelectedGroup]);\n\n  return (\n    <Box className={styles.tabsWrapper}>\n      <Tabs\n        selectionFollowsFocus\n        indicatorColor=\"primary\"\n        textColor=\"inherit\"\n        variant=\"scrollable\"\n        scrollButtons=\"auto\"\n        aria-label=\"tabs\"\n        value={selectedGroup}\n      >\n        {groups.map((group, groupIndex) => {\n          const groupItems: TabItem[] = [];\n          items.forEach((item, itemIndex) => {\n            if (item.group === group) {\n              groupItems.push({\n                ...item,\n                index: itemIndex,\n              });\n            }\n          });\n          return (\n            <EntityTabsGroup\n              data-testid={`header-tab-${groupIndex}`}\n              className={styles.defaultTab}\n              classes={{ selected: styles.selected, root: styles.tabRoot }}\n              key={group}\n              label={group}\n              value={groupIndex}\n              items={groupItems}\n              highlightedButton={selectedItem}\n              onSelectTab={() => handleChange(groupIndex)}\n            />\n          );\n        })}\n      </Tabs>\n    </Box>\n  );\n}\n"],"names":[],"mappings":"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"}