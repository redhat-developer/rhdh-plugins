{"version":3,"file":"EntityTabsGroup.esm.js","sources":["../../../../src/alpha/components/EntityTabs/EntityTabsGroup.tsx"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  ReactNode,\n  forwardRef,\n  useState,\n  MouseEvent,\n  MouseEventHandler,\n} from 'react';\nimport { Link } from 'react-router-dom';\nimport classnames from 'classnames';\n\nimport Typography from '@material-ui/core/Typography';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport Popover from '@material-ui/core/Popover';\nimport { TabProps, TabClassKey } from '@material-ui/core/Tab';\nimport { capitalize } from '@material-ui/core/utils';\nimport { createStyles, Theme, withStyles } from '@material-ui/core/styles';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    /* Styles applied to the root element. */\n    root: {\n      ...theme.typography.button,\n      maxWidth: 264,\n      minWidth: 72,\n      position: 'relative',\n      boxSizing: 'border-box',\n      minHeight: 48,\n      flexShrink: 0,\n      padding: '6px 12px',\n      [theme.breakpoints.up('sm')]: {\n        padding: '6px 24px',\n      },\n      overflow: 'hidden',\n      whiteSpace: 'normal',\n      textAlign: 'center',\n      [theme.breakpoints.up('sm')]: {\n        minWidth: 160,\n      },\n    },\n    popInButton: {\n      width: '100%',\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: 'uppercase',\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary,\n    },\n    /* Styles applied to the root element if both `icon` and `label` are provided. */\n    labelIcon: {\n      minHeight: 72,\n      paddingTop: 9,\n      '& $wrapper > *:first-child': {\n        marginBottom: 6,\n      },\n    },\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"inherit\"`. */\n    textColorInherit: {\n      color: 'inherit',\n      opacity: 0.7,\n      '&$selected': {\n        opacity: 1,\n      },\n      '&$disabled': {\n        opacity: 0.5,\n      },\n    },\n    selectedButton: {\n      color: `${theme.palette.text.primary}`,\n      opacity: `${1}`,\n    },\n    unselectedButton: {\n      color: `${theme.palette.text.secondary}`,\n      opacity: `${0.7}`,\n    },\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"primary\"`. */\n    textColorPrimary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.primary.main,\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled,\n      },\n    },\n    /* Styles applied to the root element if the parent [`Tabs`](/api/tabs/) has `textColor=\"secondary\"`. */\n    textColorSecondary: {\n      color: theme.palette.text.secondary,\n      '&$selected': {\n        color: theme.palette.secondary.main,\n      },\n      '&$disabled': {\n        color: theme.palette.text.disabled,\n      },\n    },\n    /* Pseudo-class applied to the root element if `selected={true}` (controlled by the Tabs component). */\n    selected: {},\n    /* Pseudo-class applied to the root element if `disabled={true}` (controlled by the Tabs component). */\n    disabled: {},\n    /* Styles applied to the root element if `fullWidth={true}` (controlled by the Tabs component). */\n    fullWidth: {\n      flexShrink: 1,\n      flexGrow: 1,\n      flexBasis: 0,\n      maxWidth: 'none',\n    },\n    /* Styles applied to the root element if `wrapped={true}`. */\n    wrapped: {\n      fontSize: theme.typography.pxToRem(12),\n      lineHeight: 1.5,\n    },\n    /* Styles applied to the `icon` and `label`'s wrapper element. */\n    wrapper: {\n      display: 'inline-flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '100%',\n      flexDirection: 'row',\n    },\n  });\n\ntype EntityTabsGroupItem = {\n  id: string;\n  index: number;\n  label: string;\n  path: string;\n  group: string;\n};\n\ntype EntityTabsGroupProps = TabProps & {\n  classes?: Partial<ReturnType<typeof styles>>;\n  indicator?: ReactNode;\n  highlightedButton?: number;\n  items: EntityTabsGroupItem[];\n  onSelectTab: MouseEventHandler<HTMLAnchorElement>;\n};\n\nconst Tab = forwardRef(function Tab(props: EntityTabsGroupProps, ref: any) {\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null);\n\n  const open = Boolean(anchorEl);\n  const submenuId = open ? 'tabbed-submenu' : undefined;\n\n  const {\n    classes,\n    className,\n    disabled = false,\n    disableFocusRipple = false,\n    items,\n    fullWidth,\n    icon,\n    indicator,\n    label,\n    onSelectTab,\n    selected,\n    textColor = 'inherit',\n    wrapped = false,\n    highlightedButton,\n  } = props;\n\n  const testId = 'data-testid' in props && props['data-testid'];\n\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleMenuClick = (event: MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const classArray = [\n    classes?.root,\n    classes?.[`textColor${capitalize(textColor)}` as TabClassKey],\n    classes && {\n      [classes.disabled!]: disabled,\n      [classes.selected!]: selected,\n      [classes.labelIcon!]: label && icon,\n      [classes.fullWidth!]: fullWidth,\n      [classes.wrapped!]: wrapped,\n    },\n    className,\n  ];\n\n  const innerButtonClasses = [\n    classes?.root,\n    classes?.[`textColor${capitalize(textColor)}` as TabClassKey],\n    classes?.defaultTab,\n    classes && {\n      [classes.disabled!]: disabled,\n      [classes.labelIcon!]: label && icon,\n      [classes.fullWidth!]: fullWidth,\n      [classes.wrapped!]: wrapped,\n    },\n  ];\n\n  if (items.length === 1) {\n    return (\n      <ButtonBase\n        focusRipple={!disableFocusRipple}\n        data-testid={testId}\n        className={classnames(classArray)}\n        ref={ref}\n        role=\"tab\"\n        aria-selected={selected}\n        disabled={disabled}\n        component={Link}\n        onClick={onSelectTab}\n        to={items[0]?.path}\n      >\n        <Typography className={classes?.wrapper} variant=\"button\">\n          {icon}\n          {items[0].label}\n        </Typography>\n        {indicator}\n      </ButtonBase>\n    );\n  }\n  return (\n    <>\n      <ButtonBase\n        data-testid={testId}\n        focusRipple={!disableFocusRipple}\n        className={classnames(classArray)}\n        ref={ref}\n        role=\"tab\"\n        aria-selected={selected}\n        disabled={disabled}\n        onClick={handleMenuClick}\n      >\n        <Typography className={classes?.wrapper} variant=\"button\">\n          {label}\n        </Typography>\n        <ExpandMoreIcon />\n      </ButtonBase>\n      <Popover\n        id={submenuId}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleMenuClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        {items.map((i, idx) => (\n          <div key={`popover_item_${idx}`}>\n            <ButtonBase\n              focusRipple={!disableFocusRipple}\n              className={classnames(\n                innerButtonClasses,\n                classes?.popInButton,\n                highlightedButton === i.index\n                  ? classes?.selectedButton\n                  : classes?.unselectedButton,\n              )}\n              ref={ref}\n              aria-selected={selected}\n              disabled={disabled}\n              component={Link}\n              onClick={e => {\n                handleMenuClose();\n                onSelectTab(e);\n              }}\n              to={i.path}\n            >\n              <Typography className={classes?.wrapper} variant=\"button\">\n                {icon}\n                {i.label}\n              </Typography>\n              {indicator}\n            </ButtonBase>\n          </div>\n        ))}\n      </Popover>\n    </>\n  );\n});\n\n// @ts-ignore\nexport const EntityTabsGroup = withStyles(styles, { name: 'MuiTab' })(Tab);\n"],"names":["Tab"],"mappings":"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"}