{"version":3,"file":"HeaderActionMenu.esm.js","sources":["../../../src/layout/HeaderActionMenu/HeaderActionMenu.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { MouseEvent, useState, useRef, Fragment, ReactElement } from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText, {\n  ListItemTextProps,\n} from '@material-ui/core/ListItemText';\nimport Popover from '@material-ui/core/Popover';\nimport MoreVert from '@material-ui/icons/MoreVert';\nimport { useTheme } from '@material-ui/core/styles';\n\n/**\n * @public\n */\nexport type HeaderActionMenuItem = {\n  label?: ListItemTextProps['primary'];\n  secondaryLabel?: ListItemTextProps['secondary'];\n  icon?: ReactElement;\n  disabled?: boolean;\n  onClick?: (event: MouseEvent<HTMLElement>) => void;\n};\n\nconst ActionItem = ({\n  label,\n  secondaryLabel,\n  icon,\n  disabled = false,\n  onClick,\n}: HeaderActionMenuItem) => {\n  return (\n    <Fragment>\n      <ListItem\n        data-testid=\"header-action-item\"\n        disabled={disabled}\n        button\n        onClick={event => {\n          if (onClick) {\n            onClick(event);\n          }\n        }}\n      >\n        {icon && <ListItemIcon>{icon}</ListItemIcon>}\n        <ListItemText primary={label} secondary={secondaryLabel} />\n      </ListItem>\n    </Fragment>\n  );\n};\n\n/**\n * @public\n */\nexport type HeaderActionMenuProps = {\n  actionItems: HeaderActionMenuItem[];\n};\n\n/**\n * @public\n */\nexport function HeaderActionMenu(props: HeaderActionMenuProps) {\n  const {\n    palette: {\n      common: { white },\n    },\n  } = useTheme();\n  const { actionItems } = props;\n  const [open, setOpen] = useState(false);\n  const anchorElRef = useRef(null);\n\n  return (\n    <Fragment>\n      <IconButton\n        onClick={() => setOpen(true)}\n        data-testid=\"header-action-menu\"\n        ref={anchorElRef}\n        style={{\n          color: white,\n          height: 56,\n          width: 56,\n          marginRight: -4,\n          padding: 0,\n        }}\n      >\n        <MoreVert />\n      </IconButton>\n      <Popover\n        open={open}\n        anchorEl={anchorElRef.current}\n        anchorOrigin={{ horizontal: 'right', vertical: 'bottom' }}\n        transformOrigin={{ horizontal: 'right', vertical: 'top' }}\n        onClose={() => setOpen(false)}\n      >\n        <List>\n          {actionItems.map((actionItem, i) => {\n            return (\n              <ActionItem key={`header-action-menu-${i}`} {...actionItem} />\n            );\n          })}\n        </List>\n      </Popover>\n    </Fragment>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAuCA,MAAM,aAAa,CAAC;AAAA,EAClB,KAAA;AAAA,EACA,cAAA;AAAA,EACA,IAAA;AAAA,EACA,QAAA,GAAW,KAAA;AAAA,EACX;AACF,CAAA,KAA4B;AAC1B,EAAA,2BACG,QAAA,EAAA,EACC,QAAA,kBAAA,IAAA;AAAA,IAAC,QAAA;AAAA,IAAA;AAAA,MACC,aAAA,EAAY,oBAAA;AAAA,MACZ,QAAA;AAAA,MACA,MAAA,EAAM,IAAA;AAAA,MACN,SAAS,CAAA,KAAA,KAAS;AAChB,QAAA,IAAI,OAAA,EAAS;AACX,UAAA,OAAA,CAAQ,KAAK,CAAA;AAAA,QACf;AAAA,MACF,CAAA;AAAA,MAEC,QAAA,EAAA;AAAA,QAAA,IAAA,oBAAQ,GAAA,CAAC,gBAAc,QAAA,EAAA,IAAA,EAAK,CAAA;AAAA,wBAC7B,GAAA,CAAC,YAAA,EAAA,EAAa,OAAA,EAAS,KAAA,EAAO,WAAW,cAAA,EAAgB;AAAA;AAAA;AAAA,GAC3D,EACF,CAAA;AAEJ,CAAA;AAYO,SAAS,iBAAiB,KAAA,EAA8B;AAC7D,EAAA,MAAM;AAAA,IACJ,OAAA,EAAS;AAAA,MACP,MAAA,EAAQ,EAAE,KAAA;AAAM;AAClB,MACE,QAAA,EAAS;AACb,EAAA,MAAM,EAAE,aAAY,GAAI,KAAA;AACxB,EAAA,MAAM,CAAC,IAAA,EAAM,OAAO,CAAA,GAAI,SAAS,KAAK,CAAA;AACtC,EAAA,MAAM,WAAA,GAAc,OAAO,IAAI,CAAA;AAE/B,EAAA,4BACG,QAAA,EAAA,EACC,QAAA,EAAA;AAAA,oBAAA,GAAA;AAAA,MAAC,UAAA;AAAA,MAAA;AAAA,QACC,OAAA,EAAS,MAAM,OAAA,CAAQ,IAAI,CAAA;AAAA,QAC3B,aAAA,EAAY,oBAAA;AAAA,QACZ,GAAA,EAAK,WAAA;AAAA,QACL,KAAA,EAAO;AAAA,UACL,KAAA,EAAO,KAAA;AAAA,UACP,MAAA,EAAQ,EAAA;AAAA,UACR,KAAA,EAAO,EAAA;AAAA,UACP,WAAA,EAAa,EAAA;AAAA,UACb,OAAA,EAAS;AAAA,SACX;AAAA,QAEA,8BAAC,QAAA,EAAA,EAAS;AAAA;AAAA,KACZ;AAAA,oBACA,GAAA;AAAA,MAAC,OAAA;AAAA,MAAA;AAAA,QACC,IAAA;AAAA,QACA,UAAU,WAAA,CAAY,OAAA;AAAA,QACtB,YAAA,EAAc,EAAE,UAAA,EAAY,OAAA,EAAS,UAAU,QAAA,EAAS;AAAA,QACxD,eAAA,EAAiB,EAAE,UAAA,EAAY,OAAA,EAAS,UAAU,KAAA,EAAM;AAAA,QACxD,OAAA,EAAS,MAAM,OAAA,CAAQ,KAAK,CAAA;AAAA,QAE5B,8BAAC,IAAA,EAAA,EACE,QAAA,EAAA,WAAA,CAAY,GAAA,CAAI,CAAC,YAAY,CAAA,KAAM;AAClC,UAAA,2BACG,UAAA,EAAA,EAA4C,GAAG,UAAA,EAAA,EAA/B,CAAA,mBAAA,EAAsB,CAAC,CAAA,CAAoB,CAAA;AAAA,QAEhE,CAAC,CAAA,EACH;AAAA;AAAA;AACF,GAAA,EACF,CAAA;AAEJ;;;;"}