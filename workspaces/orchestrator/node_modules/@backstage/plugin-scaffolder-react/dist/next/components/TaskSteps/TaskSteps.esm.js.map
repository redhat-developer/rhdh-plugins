{"version":3,"file":"TaskSteps.esm.js","sources":["../../../../src/next/components/TaskSteps/TaskSteps.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport MuiStepper from '@material-ui/core/Stepper';\nimport MuiStep from '@material-ui/core/Step';\nimport MuiStepButton from '@material-ui/core/StepButton';\nimport MuiStepLabel from '@material-ui/core/StepLabel';\nimport { StepIconProps } from '@material-ui/core/StepIcon';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport { TaskStep } from '@backstage/plugin-scaffolder-common';\nimport { StepIcon } from './StepIcon';\nimport { StepTime } from './StepTime';\nimport { TaskBorder } from './TaskBorder';\nimport { ScaffolderStep } from '@backstage/plugin-scaffolder-react';\n\n/**\n * Props for the TaskSteps component\n *\n * @alpha\n */\nexport interface TaskStepsProps {\n  steps: (TaskStep & ScaffolderStep)[];\n  activeStep?: number;\n  isComplete?: boolean;\n  isError?: boolean;\n}\n\n/**\n * The visual stepper of the task event stream\n *\n * @alpha\n */\nexport const TaskSteps = (props: TaskStepsProps) => {\n  return (\n    <Paper style={{ position: 'relative', overflow: 'hidden' }}>\n      <TaskBorder\n        isComplete={props.isComplete ?? false}\n        isError={props.isError ?? false}\n      />\n      <Box padding={2}>\n        <MuiStepper\n          activeStep={props.activeStep}\n          alternativeLabel\n          variant=\"elevation\"\n          style={{ overflowX: 'auto' }}\n        >\n          {props.steps.map(step => {\n            const isCompleted = step.status === 'completed';\n            const isFailed = step.status === 'failed';\n            const isActive = step.status === 'processing';\n            const isSkipped = step.status === 'skipped';\n            const stepIconProps: Partial<StepIconProps & { skipped: boolean }> =\n              {\n                completed: isCompleted,\n                error: isFailed,\n                active: isActive,\n                skipped: isSkipped,\n              };\n\n            return (\n              <MuiStep key={step.id}>\n                <MuiStepButton>\n                  <MuiStepLabel\n                    StepIconProps={stepIconProps}\n                    StepIconComponent={StepIcon}\n                    data-testid=\"step-label\"\n                  >\n                    <Box>{step.name}</Box>\n                    {!isSkipped && <StepTime step={step} />}\n                  </MuiStepLabel>\n                </MuiStepButton>\n              </MuiStep>\n            );\n          })}\n        </MuiStepper>\n      </Box>\n    </Paper>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;AA6CO,MAAM,SAAA,GAAY,CAAC,KAAA,KAA0B;AAClD,EAAA,uBACE,IAAA,CAAC,SAAM,KAAA,EAAO,EAAE,UAAU,UAAA,EAAY,QAAA,EAAU,UAAS,EACvD,QAAA,EAAA;AAAA,oBAAA,GAAA;AAAA,MAAC,UAAA;AAAA,MAAA;AAAA,QACC,UAAA,EAAY,MAAM,UAAA,IAAc,KAAA;AAAA,QAChC,OAAA,EAAS,MAAM,OAAA,IAAW;AAAA;AAAA,KAC5B;AAAA,oBACA,GAAA,CAAC,GAAA,EAAA,EAAI,OAAA,EAAS,CAAA,EACZ,QAAA,kBAAA,GAAA;AAAA,MAAC,UAAA;AAAA,MAAA;AAAA,QACC,YAAY,KAAA,CAAM,UAAA;AAAA,QAClB,gBAAA,EAAgB,IAAA;AAAA,QAChB,OAAA,EAAQ,WAAA;AAAA,QACR,KAAA,EAAO,EAAE,SAAA,EAAW,MAAA,EAAO;AAAA,QAE1B,QAAA,EAAA,KAAA,CAAM,KAAA,CAAM,GAAA,CAAI,CAAA,IAAA,KAAQ;AACvB,UAAA,MAAM,WAAA,GAAc,KAAK,MAAA,KAAW,WAAA;AACpC,UAAA,MAAM,QAAA,GAAW,KAAK,MAAA,KAAW,QAAA;AACjC,UAAA,MAAM,QAAA,GAAW,KAAK,MAAA,KAAW,YAAA;AACjC,UAAA,MAAM,SAAA,GAAY,KAAK,MAAA,KAAW,SAAA;AAClC,UAAA,MAAM,aAAA,GACJ;AAAA,YACE,SAAA,EAAW,WAAA;AAAA,YACX,KAAA,EAAO,QAAA;AAAA,YACP,MAAA,EAAQ,QAAA;AAAA,YACR,OAAA,EAAS;AAAA,WACX;AAEF,UAAA,uBACE,GAAA,CAAC,OAAA,EAAA,EACC,QAAA,kBAAA,GAAA,CAAC,aAAA,EAAA,EACC,QAAA,kBAAA,IAAA;AAAA,YAAC,YAAA;AAAA,YAAA;AAAA,cACC,aAAA,EAAe,aAAA;AAAA,cACf,iBAAA,EAAmB,QAAA;AAAA,cACnB,aAAA,EAAY,YAAA;AAAA,cAEZ,QAAA,EAAA;AAAA,gCAAA,GAAA,CAAC,GAAA,EAAA,EAAK,eAAK,IAAA,EAAK,CAAA;AAAA,gBACf,CAAC,SAAA,oBAAa,GAAA,CAAC,QAAA,EAAA,EAAS,IAAA,EAAY;AAAA;AAAA;AAAA,WACvC,EACF,CAAA,EAAA,EAVY,IAAA,CAAK,EAWnB,CAAA;AAAA,QAEJ,CAAC;AAAA;AAAA,KACH,EACF;AAAA,GAAA,EACF,CAAA;AAEJ;;;;"}