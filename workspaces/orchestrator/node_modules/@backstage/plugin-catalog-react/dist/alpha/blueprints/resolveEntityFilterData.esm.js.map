{"version":3,"file":"resolveEntityFilterData.esm.js","sources":["../../../src/alpha/blueprints/resolveEntityFilterData.ts"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  entityFilterExpressionDataRef,\n  entityFilterFunctionDataRef,\n} from './extensionData';\nimport {\n  EntityPredicate,\n  entityPredicateToFilterFunction,\n} from '../predicates';\nimport { Entity } from '@backstage/catalog-model';\nimport { AppNode } from '@backstage/frontend-plugin-api';\n\nexport function* resolveEntityFilterData(\n  filter: ((entity: Entity) => boolean) | EntityPredicate | string | undefined,\n  config: { filter?: EntityPredicate | string },\n  node: AppNode,\n) {\n  if (typeof config.filter === 'string') {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `DEPRECATION WARNING: Using a string-based filter in the configuration for '${node.spec.id}' is deprecated. Use an entity predicate object instead.`,\n    );\n    yield entityFilterExpressionDataRef(config.filter);\n  } else if (config.filter) {\n    yield entityFilterFunctionDataRef(\n      entityPredicateToFilterFunction(config.filter),\n    );\n  } else if (typeof filter === 'function') {\n    yield entityFilterFunctionDataRef(filter);\n  } else if (typeof filter === 'string') {\n    // eslint-disable-next-line no-console\n    console.warn(\n      `DEPRECATION WARNING: Using a string as the default filter for '${node.spec.id}' is deprecated. Use an entity predicate object instead.`,\n    );\n    yield entityFilterExpressionDataRef(filter);\n  } else if (filter) {\n    yield entityFilterFunctionDataRef(entityPredicateToFilterFunction(filter));\n  }\n}\n"],"names":[],"mappings":";;;AA2BO,UAAU,uBAAA,CACf,MAAA,EACA,MAAA,EACA,IAAA,EACA;AACA,EAAA,IAAI,OAAO,MAAA,CAAO,MAAA,KAAW,QAAA,EAAU;AAErC,IAAA,OAAA,CAAQ,IAAA;AAAA,MACN,CAAA,2EAAA,EAA8E,IAAA,CAAK,IAAA,CAAK,EAAE,CAAA,wDAAA;AAAA,KAC5F;AACA,IAAA,MAAM,6BAAA,CAA8B,OAAO,MAAM,CAAA;AAAA,EACnD,CAAA,MAAA,IAAW,OAAO,MAAA,EAAQ;AACxB,IAAA,MAAM,2BAAA;AAAA,MACJ,+BAAA,CAAgC,OAAO,MAAM;AAAA,KAC/C;AAAA,EACF,CAAA,MAAA,IAAW,OAAO,MAAA,KAAW,UAAA,EAAY;AACvC,IAAA,MAAM,4BAA4B,MAAM,CAAA;AAAA,EAC1C,CAAA,MAAA,IAAW,OAAO,MAAA,KAAW,QAAA,EAAU;AAErC,IAAA,OAAA,CAAQ,IAAA;AAAA,MACN,CAAA,+DAAA,EAAkE,IAAA,CAAK,IAAA,CAAK,EAAE,CAAA,wDAAA;AAAA,KAChF;AACA,IAAA,MAAM,8BAA8B,MAAM,CAAA;AAAA,EAC5C,WAAW,MAAA,EAAQ;AACjB,IAAA,MAAM,2BAAA,CAA4B,+BAAA,CAAgC,MAAM,CAAC,CAAA;AAAA,EAC3E;AACF;;;;"}