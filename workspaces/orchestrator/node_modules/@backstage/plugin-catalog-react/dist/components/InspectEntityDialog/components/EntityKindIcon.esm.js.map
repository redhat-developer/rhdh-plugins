{"version":3,"file":"EntityKindIcon.esm.js","sources":["../../../../src/components/InspectEntityDialog/components/EntityKindIcon.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { parseEntityRef } from '@backstage/catalog-model';\nimport { useApp } from '@backstage/core-plugin-api';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nconst DEFAULT_ICON = SvgIcon;\n\nfunction getKind(\n  kind: string | undefined,\n  entityRef: string | undefined,\n): string | undefined {\n  if (kind) {\n    return kind.toLocaleLowerCase('en-US');\n  }\n\n  if (entityRef) {\n    try {\n      return parseEntityRef(entityRef).kind.toLocaleLowerCase('en-US');\n    } catch {\n      return undefined;\n    }\n  }\n\n  return undefined;\n}\n\nfunction useIcon(kind: string | undefined, entityRef: string | undefined) {\n  const app = useApp();\n\n  const actualKind = getKind(kind, entityRef);\n  if (!actualKind) {\n    return DEFAULT_ICON;\n  }\n\n  const icon = app.getSystemIcon(`kind:${actualKind}`);\n  return icon || DEFAULT_ICON;\n}\n\nexport function EntityKindIcon(props: {\n  kind?: string;\n  entityRef?: string;\n  x?: number;\n  y?: number;\n  width?: number;\n  height?: number;\n  className?: string;\n}) {\n  const { kind, entityRef, ...otherProps } = props;\n  const Icon = useIcon(kind, entityRef);\n  return <Icon {...otherProps} />;\n}\n"],"names":[],"mappings":";;;;;AAoBA,MAAM,YAAA,GAAe,OAAA;AAErB,SAAS,OAAA,CACP,MACA,SAAA,EACoB;AACpB,EAAA,IAAI,IAAA,EAAM;AACR,IAAA,OAAO,IAAA,CAAK,kBAAkB,OAAO,CAAA;AAAA,EACvC;AAEA,EAAA,IAAI,SAAA,EAAW;AACb,IAAA,IAAI;AACF,MAAA,OAAO,cAAA,CAAe,SAAS,CAAA,CAAE,IAAA,CAAK,kBAAkB,OAAO,CAAA;AAAA,IACjE,CAAA,CAAA,MAAQ;AACN,MAAA,OAAO,MAAA;AAAA,IACT;AAAA,EACF;AAEA,EAAA,OAAO,MAAA;AACT;AAEA,SAAS,OAAA,CAAQ,MAA0B,SAAA,EAA+B;AACxE,EAAA,MAAM,MAAM,MAAA,EAAO;AAEnB,EAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,IAAA,EAAM,SAAS,CAAA;AAC1C,EAAA,IAAI,CAAC,UAAA,EAAY;AACf,IAAA,OAAO,YAAA;AAAA,EACT;AAEA,EAAA,MAAM,IAAA,GAAO,GAAA,CAAI,aAAA,CAAc,CAAA,KAAA,EAAQ,UAAU,CAAA,CAAE,CAAA;AACnD,EAAA,OAAO,IAAA,IAAQ,YAAA;AACjB;AAEO,SAAS,eAAe,KAAA,EAQ5B;AACD,EAAA,MAAM,EAAE,IAAA,EAAM,SAAA,EAAW,GAAG,YAAW,GAAI,KAAA;AAC3C,EAAA,MAAM,IAAA,GAAO,OAAA,CAAQ,IAAA,EAAM,SAAS,CAAA;AACpC,EAAA,uBAAO,GAAA,CAAC,IAAA,EAAA,EAAM,GAAG,UAAA,EAAY,CAAA;AAC/B;;;;"}