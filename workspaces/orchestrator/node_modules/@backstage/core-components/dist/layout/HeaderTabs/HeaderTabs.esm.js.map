{"version":3,"file":"HeaderTabs.esm.js","sources":["../../../src/layout/HeaderTabs/HeaderTabs.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TabUI, { TabProps } from '@material-ui/core/Tab';\nimport Tabs from '@material-ui/core/Tabs';\nimport {\n  ElementType,\n  ChangeEvent,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react';\n\n// TODO(blam): Remove this implementation when the Tabs are ready\n// This is just a temporary solution to implementing tabs for now\n\n/** @public */\nexport type HeaderTabsClassKey =\n  | 'tabsWrapper'\n  | 'defaultTab'\n  | 'selected'\n  | 'tabRoot';\n\nconst useStyles = makeStyles(\n  theme => ({\n    tabsWrapper: {\n      gridArea: 'pageSubheader',\n      backgroundColor: theme.palette.background.paper,\n      paddingLeft: theme.spacing(3),\n      minWidth: 0,\n    },\n    defaultTab: {\n      ...theme.typography.caption,\n      padding: theme.spacing(3, 3),\n      textTransform: 'uppercase',\n      fontWeight: theme.typography.fontWeightBold,\n      color: theme.palette.text.secondary,\n    },\n    selected: {\n      color: theme.palette.text.primary,\n    },\n    tabRoot: {\n      '&:hover': {\n        backgroundColor: theme.palette.background.default,\n        color: theme.palette.text.primary,\n      },\n    },\n  }),\n  { name: 'BackstageHeaderTabs' },\n);\n\nexport type Tab = {\n  id: string;\n  label: string;\n  tabProps?: TabProps<ElementType, { component?: ElementType }>;\n};\n\ntype HeaderTabsProps = {\n  tabs: Tab[];\n  onChange?: (index: number) => void;\n  selectedIndex?: number;\n};\n\n/**\n * Horizontal Tabs component\n *\n * @public\n *\n */\nexport function HeaderTabs(props: HeaderTabsProps) {\n  const { tabs, onChange, selectedIndex } = props;\n  const [selectedTab, setSelectedTab] = useState<number>(selectedIndex ?? 0);\n  const styles = useStyles();\n\n  const handleChange = useCallback(\n    (_: ChangeEvent<{}>, index: number) => {\n      if (selectedIndex === undefined) {\n        setSelectedTab(index);\n      }\n      if (onChange) onChange(index);\n    },\n    [selectedIndex, onChange],\n  );\n\n  useEffect(() => {\n    if (selectedIndex !== undefined) {\n      setSelectedTab(selectedIndex);\n    }\n  }, [selectedIndex]);\n\n  return (\n    <Box className={styles.tabsWrapper}>\n      <Tabs\n        indicatorColor=\"primary\"\n        textColor=\"inherit\"\n        variant=\"scrollable\"\n        scrollButtons=\"auto\"\n        aria-label=\"tabs\"\n        onChange={handleChange}\n        value={selectedTab}\n      >\n        {tabs.map((tab, index) => (\n          <TabUI\n            data-testid={`header-tab-${index}`}\n            label={tab.label}\n            key={tab.id}\n            value={index}\n            className={styles.defaultTab}\n            classes={{ selected: styles.selected, root: styles.tabRoot }}\n            {...tab.tabProps}\n          />\n        ))}\n      </Tabs>\n    </Box>\n  );\n}\n"],"names":[],"mappings":"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"}