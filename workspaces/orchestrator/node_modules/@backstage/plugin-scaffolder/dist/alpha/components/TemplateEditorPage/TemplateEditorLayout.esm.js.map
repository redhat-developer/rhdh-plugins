{"version":3,"file":"TemplateEditorLayout.esm.js","sources":["../../../../src/alpha/components/TemplateEditorPage/TemplateEditorLayout.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { PropsWithChildren, ReactNode } from 'react';\nimport { WithStyles, withStyles } from '@material-ui/core/styles';\nimport { PanelGroup, Panel, PanelResizeHandle } from 'react-resizable-panels';\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nexport const TemplateEditorLayout = withStyles(\n  theme => ({\n    root: {\n      height: '100%',\n      gridArea: 'pageContent',\n      display: 'grid',\n      gridTemplateAreas: `\n      \"toolbar\"\n      \"browser\"\n      \"editor\"\n      \"preview\"\n      \"results\"\n    `,\n      [theme.breakpoints.up('md')]: {\n        gridTemplateAreas: `\n      \"toolbar toolbar toolbar\"\n      \"browser editor preview\"\n      \"results results results\"\n    `,\n        gridTemplateColumns: '1fr 5fr',\n        gridTemplateRows: 'auto 1fr auto',\n      },\n    },\n  }),\n  { name: 'ScaffolderTemplateEditorLayout' },\n)(({ children, classes }: PropsWithChildren<WithStyles>) => (\n  <main className={classes.root}>{children}</main>\n));\n\nexport const TemplateEditorLayoutToolbar = withStyles(\n  {\n    root: {\n      gridArea: 'toolbar',\n    },\n  },\n  { name: 'ScaffolderTemplateEditorLayoutToolbar' },\n)(({ children, classes }: PropsWithChildren<WithStyles>) => (\n  <section className={classes.root}>{children}</section>\n));\n\nexport const TemplateEditorLayoutBrowser = withStyles(\n  theme => ({\n    root: {\n      gridArea: 'browser',\n      overflow: 'auto',\n      [theme.breakpoints.up('md')]: {\n        borderRight: `1px solid ${theme.palette.divider}`,\n      },\n    },\n  }),\n  { name: 'ScaffolderTemplateEditorLayoutBrowser' },\n)(({ children, classes }: PropsWithChildren<WithStyles>) => (\n  <section className={classes.root}>{children}</section>\n));\n\nexport const TemplateEditorLayoutFiles = withStyles(\n  theme => ({\n    root: {\n      gridArea: 'editor',\n      overflow: 'auto',\n      [theme.breakpoints.up('md')]: {\n        height: '100%',\n      },\n    },\n  }),\n  { name: 'ScaffolderTemplateEditorLayoutFiles' },\n)(({ children, classes }: PropsWithChildren<WithStyles>) => (\n  <section className={classes.root}>{children}</section>\n));\n\nexport const TemplateEditorLayoutPreview = withStyles(\n  theme => ({\n    root: {\n      gridArea: 'preview',\n      position: 'relative',\n      backgroundColor: theme.palette.background.default,\n      [theme.breakpoints.up('md')]: {\n        height: '100%',\n      },\n    },\n    scroll: {\n      height: '100%',\n      padding: theme.spacing(1),\n      [theme.breakpoints.up('md')]: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        overflow: 'auto',\n      },\n    },\n  }),\n  { name: 'ScaffolderTemplateEditorLayoutPreview' },\n)(({ children, classes }: PropsWithChildren<WithStyles>) => (\n  <section className={classes.root}>\n    <div className={classes.scroll}>{children}</div>\n  </section>\n));\n\nexport const TemplateEditorLayoutConsole = withStyles(\n  {\n    root: {\n      gridArea: 'results',\n    },\n  },\n  { name: 'ScaffolderTemplateEditorLayoutConsole' },\n)(({ children, classes }: PropsWithChildren<WithStyles>) => (\n  <section className={classes.root}>{children}</section>\n));\n\nexport const TemplateEditorPanelResizeHandle = withStyles(\n  {\n    root: {\n      width: 8,\n      cursor: 'col-resize',\n      background: 'rgba(0,0,0,0.04)',\n    },\n  },\n  { name: 'ScaffolderTemplateEditorPanelResizeHandle' },\n)(({ classes }: { classes: WithStyles['classes'] }) => (\n  <PanelResizeHandle className={classes.root} />\n));\n\nexport function TemplateEditorPanels({\n  files,\n  preview,\n  autoSaveId = 'template-editor-panels',\n}: {\n  files: ReactNode;\n  preview: ReactNode;\n  autoSaveId?: string;\n}) {\n  const theme = useTheme();\n  const isMdUp = useMediaQuery(theme.breakpoints.up('md'));\n\n  if (isMdUp) {\n    return (\n      <PanelGroup direction=\"horizontal\" autoSaveId={autoSaveId}>\n        <Panel minSize={15} defaultSize={50}>\n          {files}\n        </Panel>\n        <TemplateEditorPanelResizeHandle />\n        <Panel minSize={15} defaultSize={50}>\n          {preview}\n        </Panel>\n      </PanelGroup>\n    );\n  }\n  // Stack as rows for small screens, just render children in a plain block\n  return (\n    <>\n      {files}\n      {preview}\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}