{"version":3,"file":"useScaffolderTemplateIconLinkProps.esm.js","sources":["../../../src/alpha/hooks/useScaffolderTemplateIconLinkProps.tsx"],"sourcesContent":["/*\n * Copyright 2025 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { DEFAULT_NAMESPACE } from '@backstage/catalog-model';\nimport { useApp, useRouteRef } from '@backstage/core-plugin-api';\nimport { useEntity } from '@backstage/plugin-catalog-react';\n\nimport CreateComponentIcon from '@material-ui/icons/AddCircleOutline';\nimport { taskCreatePermission } from '@backstage/plugin-scaffolder-common/alpha';\nimport { usePermission } from '@backstage/plugin-permission-react';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nimport { scaffolderTranslationRef } from '../../translation';\nimport { selectedTemplateRouteRef } from '../../routes';\n\n// Note: If you update this hook, please also update the \"useScaffolderTemplateIconLinkProps\" hook\n// in the \"plugins/catalog/src/components/AboutCard/AboutCard.tsx\" file\n/** @alpha */\nexport function useScaffolderTemplateIconLinkProps() {\n  const app = useApp();\n  const { entity } = useEntity();\n  const templateRoute = useRouteRef(selectedTemplateRouteRef);\n  const { t } = useTranslationRef(scaffolderTranslationRef);\n  const Icon = app.getSystemIcon('scaffolder') ?? CreateComponentIcon;\n  const { allowed: canCreateTemplateTask } = usePermission({\n    permission: taskCreatePermission,\n  });\n\n  return {\n    label: t('aboutCard.launchTemplate'),\n    icon: <Icon />,\n    disabled: !templateRoute || !canCreateTemplateTask,\n    href:\n      templateRoute &&\n      templateRoute({\n        templateName: entity.metadata.name,\n        namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n      }),\n  };\n}\n"],"names":[],"mappings":";;;;;;;;;;;AA+BO,SAAS,kCAAA,GAAqC;AACnD,EAAA,MAAM,MAAM,MAAA,EAAO;AACnB,EAAA,MAAM,EAAE,MAAA,EAAO,GAAI,SAAA,EAAU;AAC7B,EAAA,MAAM,aAAA,GAAgB,YAAY,wBAAwB,CAAA;AAC1D,EAAA,MAAM,EAAE,CAAA,EAAE,GAAI,iBAAA,CAAkB,wBAAwB,CAAA;AACxD,EAAA,MAAM,IAAA,GAAO,GAAA,CAAI,aAAA,CAAc,YAAY,CAAA,IAAK,mBAAA;AAChD,EAAA,MAAM,EAAE,OAAA,EAAS,qBAAA,EAAsB,GAAI,aAAA,CAAc;AAAA,IACvD,UAAA,EAAY;AAAA,GACb,CAAA;AAED,EAAA,OAAO;AAAA,IACL,KAAA,EAAO,EAAE,0BAA0B,CAAA;AAAA,IACnC,IAAA,sBAAO,IAAA,EAAA,EAAK,CAAA;AAAA,IACZ,QAAA,EAAU,CAAC,aAAA,IAAiB,CAAC,qBAAA;AAAA,IAC7B,IAAA,EACE,iBACA,aAAA,CAAc;AAAA,MACZ,YAAA,EAAc,OAAO,QAAA,CAAS,IAAA;AAAA,MAC9B,SAAA,EAAW,MAAA,CAAO,QAAA,CAAS,SAAA,IAAa;AAAA,KACzC;AAAA,GACL;AACF;;;;"}