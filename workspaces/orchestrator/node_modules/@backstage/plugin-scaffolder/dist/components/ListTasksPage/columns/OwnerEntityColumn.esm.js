import { jsx } from 'react/jsx-runtime';
import { useApi } from '@backstage/core-plugin-api';
import useAsync from 'react-use/esm/useAsync';
import { catalogApiRef, EntityRefLink } from '@backstage/plugin-catalog-react';
import { parseEntityRef } from '@backstage/catalog-model';
import Typography from '@material-ui/core/Typography';

const OwnerEntityColumn = ({ entityRef }) => {
  const catalogApi = useApi(catalogApiRef);
  const { value, loading, error } = useAsync(
    () => catalogApi.getEntityByRef(entityRef || ""),
    [catalogApi, entityRef]
  );
  if (!entityRef) {
    return /* @__PURE__ */ jsx(Typography, { paragraph: true, children: "Unknown" });
  }
  if (loading || error) {
    return null;
  }
  return /* @__PURE__ */ jsx(
    EntityRefLink,
    {
      entityRef: parseEntityRef(entityRef),
      title: value?.spec?.profile?.displayName ?? value?.metadata.name
    }
  );
};

export { OwnerEntityColumn };
//# sourceMappingURL=OwnerEntityColumn.esm.js.map
