{"version":3,"file":"OwnerEntityColumn.esm.js","sources":["../../../../src/components/ListTasksPage/columns/OwnerEntityColumn.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { useApi } from '@backstage/core-plugin-api';\n\nimport useAsync from 'react-use/esm/useAsync';\n\nimport { catalogApiRef, EntityRefLink } from '@backstage/plugin-catalog-react';\nimport { parseEntityRef, UserEntity } from '@backstage/catalog-model';\nimport Typography from '@material-ui/core/Typography';\n\nexport const OwnerEntityColumn = ({ entityRef }: { entityRef?: string }) => {\n  const catalogApi = useApi(catalogApiRef);\n\n  const { value, loading, error } = useAsync(\n    () => catalogApi.getEntityByRef(entityRef || ''),\n    [catalogApi, entityRef],\n  );\n\n  if (!entityRef) {\n    return <Typography paragraph>Unknown</Typography>;\n  }\n\n  if (loading || error) {\n    return null;\n  }\n\n  return (\n    <EntityRefLink\n      entityRef={parseEntityRef(entityRef)}\n      title={\n        (value as UserEntity)?.spec?.profile?.displayName ??\n        value?.metadata.name\n      }\n    />\n  );\n};\n"],"names":[],"mappings":";;;;;;;AAuBO,MAAM,iBAAA,GAAoB,CAAC,EAAE,SAAA,EAAU,KAA8B;AAC1E,EAAA,MAAM,UAAA,GAAa,OAAO,aAAa,CAAA;AAEvC,EAAA,MAAM,EAAE,KAAA,EAAO,OAAA,EAAS,KAAA,EAAM,GAAI,QAAA;AAAA,IAChC,MAAM,UAAA,CAAW,cAAA,CAAe,SAAA,IAAa,EAAE,CAAA;AAAA,IAC/C,CAAC,YAAY,SAAS;AAAA,GACxB;AAEA,EAAA,IAAI,CAAC,SAAA,EAAW;AACd,IAAA,uBAAO,GAAA,CAAC,UAAA,EAAA,EAAW,SAAA,EAAS,IAAA,EAAC,QAAA,EAAA,SAAA,EAAO,CAAA;AAAA,EACtC;AAEA,EAAA,IAAI,WAAW,KAAA,EAAO;AACpB,IAAA,OAAO,IAAA;AAAA,EACT;AAEA,EAAA,uBACE,GAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,SAAA,EAAW,eAAe,SAAS,CAAA;AAAA,MACnC,OACG,KAAA,EAAsB,IAAA,EAAM,OAAA,EAAS,WAAA,IACtC,OAAO,QAAA,CAAS;AAAA;AAAA,GAEpB;AAEJ;;;;"}