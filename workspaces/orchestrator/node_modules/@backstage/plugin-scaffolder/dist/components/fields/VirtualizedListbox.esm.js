import { jsx } from 'react/jsx-runtime';
import { createContext, forwardRef, useContext, Children, cloneElement } from 'react';
import { FixedSizeList } from 'react-window';

const renderRow = (props) => {
  const { data, index, style } = props;
  return cloneElement(data[index], { style });
};
const OuterElementContext = createContext({});
const OuterElementType = forwardRef(
  (props, ref) => {
    const outerProps = useContext(OuterElementContext);
    return /* @__PURE__ */ jsx("div", { ref, ...props, ...outerProps });
  }
);
const VirtualizedListbox = forwardRef(
  (props, ref) => {
    const { children, ...other } = props;
    const itemData = Children.toArray(children);
    const itemCount = itemData.length;
    const itemSize = 36;
    const itemsToShow = Math.min(10, itemCount) + 0.5;
    const height = itemsToShow * itemSize;
    return /* @__PURE__ */ jsx("div", { ref, children: /* @__PURE__ */ jsx(OuterElementContext.Provider, { value: other, children: /* @__PURE__ */ jsx(
      FixedSizeList,
      {
        height,
        itemData,
        itemCount,
        itemSize,
        outerElementType: OuterElementType,
        width: "100%",
        children: renderRow
      }
    ) }) });
  }
);

export { VirtualizedListbox };
//# sourceMappingURL=VirtualizedListbox.esm.js.map
