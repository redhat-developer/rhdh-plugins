{"version":3,"file":"plugin.esm.js","sources":["../src/plugin.ts"],"sourcesContent":["/*\n * Copyright 2023 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport {\n  createApiFactory,\n  createComponentExtension,\n  createPlugin,\n  discoveryApiRef,\n  identityApiRef,\n} from '@backstage/core-plugin-api';\nimport { signalApiRef } from '@backstage/plugin-signals-react';\nimport { SignalClient } from './api/SignalClient';\n\n/** @public */\nexport const signalsPlugin = createPlugin({\n  id: 'signals',\n  apis: [\n    createApiFactory({\n      api: signalApiRef,\n      deps: {\n        identity: identityApiRef,\n        discoveryApi: discoveryApiRef,\n      },\n      factory: ({ identity, discoveryApi }) => {\n        return SignalClient.create({\n          identity,\n          discoveryApi,\n        });\n      },\n    }),\n  ],\n});\n\n/** @public */\nexport const SignalsDisplay = signalsPlugin.provide(\n  createComponentExtension({\n    name: 'SignalsDisplay',\n    component: {\n      // No-op for now, this is just a placeholder to avoid the need for an explicit plugin installation\n      sync: () => null,\n    },\n  }),\n);\n"],"names":[],"mappings":";;;;AA0BO,MAAM,gBAAgB,YAAA,CAAa;AAAA,EACxC,EAAA,EAAI,SAAA;AAAA,EACJ,IAAA,EAAM;AAAA,IACJ,gBAAA,CAAiB;AAAA,MACf,GAAA,EAAK,YAAA;AAAA,MACL,IAAA,EAAM;AAAA,QACJ,QAAA,EAAU,cAAA;AAAA,QACV,YAAA,EAAc;AAAA,OAChB;AAAA,MACA,OAAA,EAAS,CAAC,EAAE,QAAA,EAAU,cAAa,KAAM;AACvC,QAAA,OAAO,aAAa,MAAA,CAAO;AAAA,UACzB,QAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,MACH;AAAA,KACD;AAAA;AAEL,CAAC;AAGM,MAAM,iBAAiB,aAAA,CAAc,OAAA;AAAA,EAC1C,wBAAA,CAAyB;AAAA,IACvB,IAAA,EAAM,gBAAA;AAAA,IACN,SAAA,EAAW;AAAA;AAAA,MAET,MAAM,MAAM;AAAA;AACd,GACD;AACH;;;;"}