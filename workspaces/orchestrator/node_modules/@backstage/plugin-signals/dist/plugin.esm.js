import { createPlugin, createApiFactory, discoveryApiRef, identityApiRef, createComponentExtension } from '@backstage/core-plugin-api';
import { signalApiRef } from '@backstage/plugin-signals-react';
import { SignalClient } from './api/SignalClient.esm.js';

const signalsPlugin = createPlugin({
  id: "signals",
  apis: [
    createApiFactory({
      api: signalApiRef,
      deps: {
        identity: identityApiRef,
        discoveryApi: discoveryApiRef
      },
      factory: ({ identity, discoveryApi }) => {
        return SignalClient.create({
          identity,
          discoveryApi
        });
      }
    })
  ]
});
const SignalsDisplay = signalsPlugin.provide(
  createComponentExtension({
    name: "SignalsDisplay",
    component: {
      // No-op for now, this is just a placeholder to avoid the need for an explicit plugin installation
      sync: () => null
    }
  })
);

export { SignalsDisplay, signalsPlugin };
//# sourceMappingURL=plugin.esm.js.map
