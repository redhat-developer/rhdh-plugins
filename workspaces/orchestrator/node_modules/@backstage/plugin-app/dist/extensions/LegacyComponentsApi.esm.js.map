{"version":3,"file":"LegacyComponentsApi.esm.js","sources":["../../src/extensions/LegacyComponentsApi.ts"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  ApiBlueprint,\n  createApiRef,\n  ErrorDisplay,\n  NotFoundErrorPage,\n  Progress,\n} from '@backstage/frontend-plugin-api';\nimport { ComponentType } from 'react';\n\n/**\n * This is the old component API that has been replaced by the new SwappableComponentsApi.\n *\n * This backwards compatibility implementation exists to avoid breaking older plugins.\n *\n * This was added for the 1.42 release, and can be removed in the future.\n *\n * @internal\n */\nexport const LegacyComponentsApi = ApiBlueprint.make({\n  name: 'components',\n  params: defineParams =>\n    defineParams({\n      api: createApiRef<{\n        getComponent(ref: { id: string }): ComponentType<any>;\n      }>({ id: 'core.components' }),\n      deps: {},\n      factory: () => ({\n        getComponent(ref) {\n          if (ref.id === 'core.components.progress') {\n            return Progress;\n          }\n          if (ref.id === 'core.components.notFoundErrorPage') {\n            return NotFoundErrorPage;\n          }\n          if (ref.id === 'core.components.errorBoundaryFallback') {\n            return ErrorDisplay;\n          }\n          throw new Error(`No implementation found for component ref ${ref}`);\n        },\n      }),\n    }),\n});\n"],"names":[],"mappings":";;AAkCO,MAAM,mBAAA,GAAsB,aAAa,IAAA,CAAK;AAAA,EACnD,IAAA,EAAM,YAAA;AAAA,EACN,MAAA,EAAQ,kBACN,YAAA,CAAa;AAAA,IACX,GAAA,EAAK,YAAA,CAEF,EAAE,EAAA,EAAI,mBAAmB,CAAA;AAAA,IAC5B,MAAM,EAAC;AAAA,IACP,SAAS,OAAO;AAAA,MACd,aAAa,GAAA,EAAK;AAChB,QAAA,IAAI,GAAA,CAAI,OAAO,0BAAA,EAA4B;AACzC,UAAA,OAAO,QAAA;AAAA,QACT;AACA,QAAA,IAAI,GAAA,CAAI,OAAO,mCAAA,EAAqC;AAClD,UAAA,OAAO,iBAAA;AAAA,QACT;AACA,QAAA,IAAI,GAAA,CAAI,OAAO,uCAAA,EAAyC;AACtD,UAAA,OAAO,YAAA;AAAA,QACT;AACA,QAAA,MAAM,IAAI,KAAA,CAAM,CAAA,0CAAA,EAA6C,GAAG,CAAA,CAAE,CAAA;AAAA,MACpE;AAAA,KACF;AAAA,GACD;AACL,CAAC;;;;"}