'use strict';

var pluginScaffolderNode = require('@backstage/plugin-scaffolder-node');
var alpha = require('@backstage/plugin-scaffolder-node/alpha');
var examples = require('./examples.cjs.js');

const createParseRepoUrl = (integrations) => alpha.createTemplateFilter({
  id: "parseRepoUrl",
  description: "Parses a repository URL into its constituent parts: owner, repository name, etc.",
  schema: (z) => z.function().args(
    z.string().describe("repo URL as collected from repository picker")
  ).returns(
    z.object({
      repo: z.string(),
      host: z.string()
    }).merge(
      z.object({
        owner: z.string(),
        organization: z.string(),
        workspace: z.string(),
        project: z.string()
      }).partial()
    ).describe("`RepoSpec`")
  ),
  examples: examples.examples,
  filter: (url) => pluginScaffolderNode.parseRepoUrl(url, integrations)
});

exports.createParseRepoUrl = createParseRepoUrl;
//# sourceMappingURL=filter.cjs.js.map
