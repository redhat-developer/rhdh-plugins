{"version":3,"file":"ImportInfoCard.esm.js","sources":["../../../src/components/ImportInfoCard/ImportInfoCard.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InfoCard } from '@backstage/core-components';\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\nimport { useTranslationRef } from '@backstage/frontend-plugin-api';\nimport Chip from '@material-ui/core/Chip';\nimport Typography from '@material-ui/core/Typography';\n\nimport { catalogImportApiRef } from '../../api';\nimport { useCatalogFilename } from '../../hooks';\nimport { catalogImportTranslationRef } from '../../translation';\n\n/**\n * Props for {@link ImportInfoCard}.\n *\n * @public\n */\nexport interface ImportInfoCardProps {\n  exampleLocationUrl?: string;\n  exampleRepositoryUrl?: string;\n}\n\n/**\n * Shows information about the import process.\n *\n * @public\n */\nexport const ImportInfoCard = (props: ImportInfoCardProps) => {\n  const {\n    exampleLocationUrl = 'https://github.com/backstage/backstage/blob/master/catalog-info.yaml',\n    exampleRepositoryUrl = 'https://github.com/backstage/backstage',\n  } = props;\n\n  const { t } = useTranslationRef(catalogImportTranslationRef);\n  const configApi = useApi(configApiRef);\n  const appTitle = configApi.getOptionalString('app.title') || 'Backstage';\n  const catalogImportApi = useApi(catalogImportApiRef);\n\n  const hasGithubIntegration = configApi.has('integrations.github');\n\n  const catalogFilename = useCatalogFilename();\n\n  return (\n    <InfoCard\n      title={t('importInfoCard.title')}\n      titleTypographyProps={{ component: 'h3' }}\n      deepLink={{\n        title: t('importInfoCard.deepLinkTitle'),\n        link: 'https://backstage.io/docs/features/software-catalog/',\n      }}\n    >\n      <Typography variant=\"body2\" paragraph>\n        {t('importInfoCard.linkDescription', { appTitle })}\n      </Typography>\n      <Typography component=\"h4\" variant=\"h6\">\n        {t('importInfoCard.fileLinkTitle')}\n      </Typography>\n      <Typography variant=\"subtitle2\" color=\"textSecondary\" paragraph>\n        {t('importInfoCard.examplePrefix')}\n        <code>{exampleLocationUrl}</code>\n      </Typography>\n      <Typography variant=\"body2\" paragraph>\n        {t('importInfoCard.fileLinkDescription', { appTitle })}\n      </Typography>\n      {hasGithubIntegration && (\n        <>\n          <Typography component=\"h4\" variant=\"h6\">\n            {t('importInfoCard.githubIntegration.title')}\n            <Chip\n              label={t('importInfoCard.githubIntegration.label')}\n              variant=\"outlined\"\n              size=\"small\"\n              style={{ marginLeft: 8, marginBottom: 0 }}\n            />\n          </Typography>\n          <Typography variant=\"subtitle2\" color=\"textSecondary\" paragraph>\n            {t('importInfoCard.examplePrefix')}\n            <code>{exampleRepositoryUrl}</code>\n          </Typography>\n          <Typography variant=\"body2\" paragraph>\n            {t('importInfoCard.exampleDescription', {\n              catalogFilename: <code>{catalogFilename}</code>,\n              appTitle,\n            })}\n          </Typography>\n          {catalogImportApi.preparePullRequest && (\n            <Typography variant=\"body2\" paragraph>\n              {t('importInfoCard.preparePullRequestDescription', {\n                catalogFilename: <code>{catalogFilename}</code>,\n                appTitle,\n              })}\n            </Typography>\n          )}\n        </>\n      )}\n    </InfoCard>\n  );\n};\n"],"names":[],"mappings":"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"}