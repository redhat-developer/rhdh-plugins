{"version":3,"file":"HomePageSearchBar.esm.js","sources":["../../../src/components/HomePageComponent/HomePageSearchBar.tsx"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { useCallback, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  SearchBarBase,\n  SearchBarBaseProps,\n} from '@backstage/plugin-search-react';\nimport { useNavigateToQuery } from '../util';\n\nconst useStyles = makeStyles({\n  searchBarRoot: {\n    fontSize: '1.5em',\n  },\n  searchBarOutline: {\n    border: '1px solid #555',\n    borderRadius: '6px',\n  },\n});\n\n/**\n * Props for {@link HomePageSearchBar}.\n *\n * @public\n */\nexport type HomePageSearchBarProps = Partial<\n  Omit<SearchBarBaseProps, 'onChange' | 'onSubmit'>\n>;\n\n/**\n * The search bar created specifically for the composable home page.\n */\nexport const HomePageSearchBar = (props: HomePageSearchBarProps) => {\n  const classes = useStyles(props);\n  const [query, setQuery] = useState('');\n  const ref = useRef<HTMLInputElement | null>(null);\n\n  const handleSearch = useNavigateToQuery();\n\n  // This handler is called when \"enter\" is pressed\n  const handleSubmit = useCallback(() => {\n    // Using ref to get the current field value without waiting for a query debounce\n    handleSearch({ query: ref.current?.value ?? '' });\n  }, [handleSearch]);\n\n  return (\n    <SearchBarBase\n      value={query}\n      onSubmit={handleSubmit}\n      onChange={setQuery}\n      inputProps={{ ref }}\n      InputProps={{\n        ...props.InputProps,\n        classes: {\n          root: classes.searchBarRoot,\n          notchedOutline: classes.searchBarOutline,\n          ...props.InputProps?.classes,\n        },\n      }}\n      {...props}\n    />\n  );\n};\n"],"names":[],"mappings":";;;;;;AAwBA,MAAM,YAAY,UAAA,CAAW;AAAA,EAC3B,aAAA,EAAe;AAAA,IACb,QAAA,EAAU;AAAA,GACZ;AAAA,EACA,gBAAA,EAAkB;AAAA,IAChB,MAAA,EAAQ,gBAAA;AAAA,IACR,YAAA,EAAc;AAAA;AAElB,CAAC,CAAA;AAcM,MAAM,iBAAA,GAAoB,CAAC,KAAA,KAAkC;AAClE,EAAA,MAAM,OAAA,GAAU,UAAU,KAAK,CAAA;AAC/B,EAAA,MAAM,CAAC,KAAA,EAAO,QAAQ,CAAA,GAAI,SAAS,EAAE,CAAA;AACrC,EAAA,MAAM,GAAA,GAAM,OAAgC,IAAI,CAAA;AAEhD,EAAA,MAAM,eAAe,kBAAA,EAAmB;AAGxC,EAAA,MAAM,YAAA,GAAe,YAAY,MAAM;AAErC,IAAA,YAAA,CAAa,EAAE,KAAA,EAAO,GAAA,CAAI,OAAA,EAAS,KAAA,IAAS,IAAI,CAAA;AAAA,EAClD,CAAA,EAAG,CAAC,YAAY,CAAC,CAAA;AAEjB,EAAA,uBACE,GAAA;AAAA,IAAC,aAAA;AAAA,IAAA;AAAA,MACC,KAAA,EAAO,KAAA;AAAA,MACP,QAAA,EAAU,YAAA;AAAA,MACV,QAAA,EAAU,QAAA;AAAA,MACV,UAAA,EAAY,EAAE,GAAA,EAAI;AAAA,MAClB,UAAA,EAAY;AAAA,QACV,GAAG,KAAA,CAAM,UAAA;AAAA,QACT,OAAA,EAAS;AAAA,UACP,MAAM,OAAA,CAAQ,aAAA;AAAA,UACd,gBAAgB,OAAA,CAAQ,gBAAA;AAAA,UACxB,GAAG,MAAM,UAAA,EAAY;AAAA;AACvB,OACF;AAAA,MACC,GAAG;AAAA;AAAA,GACN;AAEJ;;;;"}