{"version":3,"file":"ErrorPage.esm.js","sources":["../../../src/layout/ErrorPage/ErrorPage.tsx"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { ReactNode } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { Link } from '../../components/Link';\nimport { useSupportConfig } from '../../hooks';\nimport { MicDrop } from './MicDrop';\nimport { StackDetails } from './StackDetails';\nimport { coreComponentsTranslationRef } from '../../translation';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\ninterface IErrorPageProps {\n  status?: string;\n  statusMessage: string;\n  additionalInfo?: ReactNode;\n  supportUrl?: string;\n  stack?: string;\n}\n\n/** @public */\nexport type ErrorPageClassKey = 'container' | 'title' | 'subtitle';\n\nconst useStyles = makeStyles(\n  theme => ({\n    container: {\n      padding: theme.spacing(8),\n      [theme.breakpoints.down('xs')]: {\n        padding: theme.spacing(2),\n      },\n    },\n    title: {\n      paddingBottom: theme.spacing(5),\n      [theme.breakpoints.down('xs')]: {\n        paddingBottom: theme.spacing(4),\n        fontSize: theme.typography.h3.fontSize,\n      },\n    },\n    subtitle: {\n      color: theme.palette.textSubtle,\n    },\n  }),\n  { name: 'BackstageErrorPage' },\n);\n\n/**\n * Error page with status and description\n *\n * @public\n *\n */\nexport function ErrorPage(props: IErrorPageProps) {\n  const {\n    status = '',\n    statusMessage,\n    additionalInfo,\n    supportUrl,\n    stack,\n  } = props;\n  const classes = useStyles();\n  const navigate = useNavigate();\n  const support = useSupportConfig();\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n\n  return (\n    <Grid container className={classes.container}>\n      <Grid item xs={12} sm={8} md={4}>\n        <Typography\n          data-testid=\"error\"\n          variant=\"body1\"\n          className={classes.subtitle}\n        >\n          {t('errorPage.subtitle', { status, statusMessage })}\n        </Typography>\n        <Typography variant=\"body1\" className={classes.subtitle}>\n          {additionalInfo}\n        </Typography>\n        <Typography variant=\"h2\" className={classes.title}>\n          {t('errorPage.title')}\n        </Typography>\n        <Typography variant=\"h6\" className={classes.title}>\n          <Link to=\"#\" data-testid=\"go-back-link\" onClick={() => navigate(-1)}>\n            {t('errorPage.goBack')}\n          </Link>\n          ... or please{' '}\n          <Link to={supportUrl || support.url}>contact support</Link> if you\n          think this is a bug.\n        </Typography>\n        {stack && <StackDetails stack={stack} />}\n      </Grid>\n      <MicDrop />\n    </Grid>\n  );\n}\n"],"names":[],"mappings":"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"}