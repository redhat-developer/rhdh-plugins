{"version":3,"file":"utils.esm.js","sources":["../../../src/layout/Sidebar/utils.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Location, Path } from 'history';\nimport { isEqual, isMatch } from 'lodash';\nimport qs from 'qs';\n\nexport function isLocationMatch(\n  currentLocation: Location,\n  toLocation: Path,\n  exact: boolean = false,\n) {\n  const toDecodedSearch = new URLSearchParams(toLocation.search).toString();\n  const toQueryParameters = qs.parse(toDecodedSearch);\n\n  const currentDecodedSearch = new URLSearchParams(\n    currentLocation.search,\n  ).toString();\n  const currentQueryParameters = qs.parse(currentDecodedSearch);\n\n  const queryStringMatcher = exact ? isEqual : isMatch;\n\n  const matching =\n    isEqual(toLocation.pathname, currentLocation.pathname) &&\n    queryStringMatcher(currentQueryParameters, toQueryParameters);\n\n  return matching;\n}\n"],"names":[],"mappings":";;;AAoBO,SAAS,eAAA,CACd,eAAA,EACA,UAAA,EACA,KAAA,GAAiB,KAAA,EACjB;AACA,EAAA,MAAM,kBAAkB,IAAI,eAAA,CAAgB,UAAA,CAAW,MAAM,EAAE,QAAA,EAAS;AACxE,EAAA,MAAM,iBAAA,GAAoB,EAAA,CAAG,KAAA,CAAM,eAAe,CAAA;AAElD,EAAA,MAAM,uBAAuB,IAAI,eAAA;AAAA,IAC/B,eAAA,CAAgB;AAAA,IAChB,QAAA,EAAS;AACX,EAAA,MAAM,sBAAA,GAAyB,EAAA,CAAG,KAAA,CAAM,oBAAoB,CAAA;AAE5D,EAAA,MAAM,kBAAA,GAAqB,QAAQ,OAAA,GAAU,OAAA;AAE7C,EAAA,MAAM,QAAA,GACJ,QAAQ,UAAA,CAAW,QAAA,EAAU,gBAAgB,QAAQ,CAAA,IACrD,kBAAA,CAAmB,sBAAA,EAAwB,iBAAiB,CAAA;AAE9D,EAAA,OAAO,QAAA;AACT;;;;"}