{"version":3,"file":"BulkActions.esm.js","sources":["../../../src/components/NotificationsTable/BulkActions.tsx"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Notification } from '@backstage/plugin-notifications-common';\nimport Grid from '@material-ui/core/Grid';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport MarkAsUnreadIcon from '@material-ui/icons/Markunread' /* TODO: use Drafts and MarkAsUnread once we have mui 5 icons */;\nimport MarkAsReadIcon from '@material-ui/icons/CheckCircle';\nimport MarkAsUnsavedIcon from '@material-ui/icons/LabelOff' /* TODO: use BookmarkRemove and BookmarkAdd once we have mui 5 icons */;\nimport MarkAsSavedIcon from '@material-ui/icons/Label';\nimport MarkAllReadIcon from '@material-ui/icons/DoneAll';\n\nexport const BulkActions = ({\n  selectedNotifications,\n  notifications,\n  isUnread,\n  onSwitchReadStatus,\n  onSwitchSavedStatus,\n  onMarkAllRead,\n}: {\n  selectedNotifications: Set<Notification['id']>;\n  notifications: Notification[];\n  isUnread?: boolean;\n  onSwitchReadStatus: (ids: Notification['id'][], newStatus: boolean) => void;\n  onSwitchSavedStatus: (ids: Notification['id'][], newStatus: boolean) => void;\n  onMarkAllRead?: () => void;\n}) => {\n  const isDisabled = selectedNotifications.size === 0;\n  const bulkNotifications = notifications.filter(notification =>\n    selectedNotifications.has(notification.id),\n  );\n\n  const isOneRead = !!bulkNotifications.find(\n    (notification: Notification) => !!notification.read,\n  );\n  const isOneSaved = !!bulkNotifications.find(\n    (notification: Notification) => !!notification.saved,\n  );\n\n  const markAsReadText = isOneRead\n    ? 'Return selected among unread'\n    : 'Mark selected as read';\n  const IconComponent = isOneRead ? MarkAsUnreadIcon : MarkAsReadIcon;\n\n  const markAsSavedText = isOneSaved\n    ? 'Undo save for selected'\n    : 'Save selected for later';\n  const SavedIconComponent = isOneSaved ? MarkAsUnsavedIcon : MarkAsSavedIcon;\n\n  return (\n    <Grid container wrap=\"nowrap\">\n      <Grid item xs={3}>\n        {onMarkAllRead ? (\n          <Tooltip title=\"Mark all read\">\n            <div>\n              {/* The <div> here is a workaround for the Tooltip which does not work for a \"disabled\" child */}\n              <IconButton disabled={!isUnread} onClick={onMarkAllRead}>\n                <MarkAllReadIcon aria-label={markAsSavedText} />\n              </IconButton>\n            </div>\n          </Tooltip>\n        ) : (\n          <div />\n        )}\n      </Grid>\n\n      <Grid item xs={3}>\n        <Tooltip title={markAsSavedText}>\n          <div>\n            {/* The <div> here is a workaround for the Tooltip which does not work for a \"disabled\" child */}\n            <IconButton\n              disabled={isDisabled}\n              onClick={() => {\n                onSwitchSavedStatus([...selectedNotifications], !isOneSaved);\n              }}\n            >\n              <SavedIconComponent aria-label={markAsSavedText} />\n            </IconButton>\n          </div>\n        </Tooltip>\n      </Grid>\n\n      <Grid item xs={3}>\n        <Tooltip title={markAsReadText}>\n          <div>\n            <IconButton\n              disabled={isDisabled}\n              onClick={() => {\n                onSwitchReadStatus([...selectedNotifications], !isOneRead);\n              }}\n            >\n              <IconComponent aria-label={markAsReadText} />\n            </IconButton>\n          </div>\n        </Tooltip>\n      </Grid>\n    </Grid>\n  );\n};\n"],"names":[],"mappings":"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"}