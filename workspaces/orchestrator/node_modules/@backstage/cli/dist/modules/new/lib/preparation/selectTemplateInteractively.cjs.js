'use strict';

var inquirer = require('inquirer');

function _interopDefaultCompat (e) { return e && typeof e === 'object' && 'default' in e ? e : { default: e }; }

var inquirer__default = /*#__PURE__*/_interopDefaultCompat(inquirer);

async function selectTemplateInteractively(config, preselectedTemplateName) {
  let selectedName = preselectedTemplateName;
  if (config.isUsingDefaultTemplates && selectedName === "plugin") {
    console.warn(
      `DEPRECATION WARNING: The 'plugin' template is deprecated, use 'frontend-plugin' instead`
    );
    selectedName = "frontend-plugin";
  }
  if (!selectedName) {
    const answers = await inquirer__default.default.prompt([
      {
        type: "list",
        name: "name",
        message: "What do you want to create?",
        choices: config.templatePointers.map(
          (t) => t.description ? { name: `${t.name} - ${t.description}`, value: t.name } : t.name
        )
      }
    ]);
    selectedName = answers.name;
  }
  const template = config.templatePointers.find((t) => t.name === selectedName);
  if (!template) {
    throw new Error(`Template '${selectedName}' not found`);
  }
  return template;
}

exports.selectTemplateInteractively = selectTemplateInteractively;
//# sourceMappingURL=selectTemplateInteractively.cjs.js.map
