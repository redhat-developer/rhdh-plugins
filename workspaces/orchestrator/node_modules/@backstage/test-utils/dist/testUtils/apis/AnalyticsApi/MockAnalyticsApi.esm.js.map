{"version":3,"file":"MockAnalyticsApi.esm.js","sources":["../../../../src/testUtils/apis/AnalyticsApi/MockAnalyticsApi.ts"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { AnalyticsApi, AnalyticsEvent } from '@backstage/core-plugin-api';\n\n/**\n * Mock implementation of {@link core-plugin-api#AnalyticsApi} with helpers to ensure that events are sent correctly.\n * Use getEvents in tests to verify captured events.\n *\n * @public\n * @deprecated Use {@link @backstage/test-utils#mockApis.(analytics:namespace)} instead\n */\nexport class MockAnalyticsApi implements AnalyticsApi {\n  private events: AnalyticsEvent[] = [];\n\n  captureEvent(event: AnalyticsEvent) {\n    const { action, subject, value, attributes, context } = event;\n\n    this.events.push({\n      action,\n      subject,\n      context,\n      ...(value !== undefined ? { value } : {}),\n      ...(attributes !== undefined ? { attributes } : {}),\n    });\n  }\n\n  getEvents(): AnalyticsEvent[] {\n    return this.events;\n  }\n}\n"],"names":[],"mappings":"AAyBO,MAAM,gBAAA,CAAyC;AAAA,EAC5C,SAA2B,EAAC;AAAA,EAEpC,aAAa,KAAA,EAAuB;AAClC,IAAA,MAAM,EAAE,MAAA,EAAQ,OAAA,EAAS,KAAA,EAAO,UAAA,EAAY,SAAQ,GAAI,KAAA;AAExD,IAAA,IAAA,CAAK,OAAO,IAAA,CAAK;AAAA,MACf,MAAA;AAAA,MACA,OAAA;AAAA,MACA,OAAA;AAAA,MACA,GAAI,KAAA,KAAU,MAAA,GAAY,EAAE,KAAA,KAAU,EAAC;AAAA,MACvC,GAAI,UAAA,KAAe,MAAA,GAAY,EAAE,UAAA,KAAe;AAAC,KAClD,CAAA;AAAA,EACH;AAAA,EAEA,SAAA,GAA8B;AAC5B,IAAA,OAAO,IAAA,CAAK,MAAA;AAAA,EACd;AACF;;;;"}