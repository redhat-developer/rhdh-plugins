{"version":3,"file":"errors.cjs.js","sources":["../../src/schema/errors.ts"],"sourcesContent":["/*\n * Copyright 2024 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Operation } from './types';\nimport { ErrorObject } from 'ajv';\nimport { humanifyAjvError } from './utils';\n\nexport class OperationError extends Error {\n  constructor(operation: Operation, message: string) {\n    super(\n      `[\"${operation.method.toLocaleUpperCase('en-US')} ${\n        operation.path\n      }\"] ${message}`,\n    );\n  }\n}\n\nexport class OperationResponseError extends Error {\n  constructor(operation: Operation, response: Response, message: string) {\n    super(\n      `[\"${operation.method.toLocaleUpperCase('en-US')} ${operation.path}\" (${\n        response.status\n      })]: ${message}`,\n    );\n  }\n}\n\nexport class OperationParsingError extends OperationError {\n  constructor(operation: Operation, type: string, errors: ErrorObject[]) {\n    super(\n      operation,\n      `${type} validation failed.\\n - ${errors\n        .map(humanifyAjvError)\n        .join('\\n - ')}`,\n    );\n  }\n}\n\nexport class OperationParsingResponseError extends OperationResponseError {\n  constructor(\n    operation: Operation,\n    response: Response,\n    type: string,\n    errors: ErrorObject[],\n  ) {\n    super(\n      operation,\n      response,\n      `${type} validation failed.\\n - ${errors\n        .map(humanifyAjvError)\n        .join('\\n - ')}`,\n    );\n  }\n}\n"],"names":["humanifyAjvError"],"mappings":";;;;AAoBO,MAAM,uBAAuB,KAAA,CAAM;AAAA,EACxC,WAAA,CAAY,WAAsB,OAAA,EAAiB;AACjD,IAAA,KAAA;AAAA,MACE,CAAA,EAAA,EAAK,SAAA,CAAU,MAAA,CAAO,iBAAA,CAAkB,OAAO,CAAC,CAAA,CAAA,EAC9C,SAAA,CAAU,IACZ,CAAA,GAAA,EAAM,OAAO,CAAA;AAAA,KACf;AAAA,EACF;AACF;AAEO,MAAM,+BAA+B,KAAA,CAAM;AAAA,EAChD,WAAA,CAAY,SAAA,EAAsB,QAAA,EAAoB,OAAA,EAAiB;AACrE,IAAA,KAAA;AAAA,MACE,CAAA,EAAA,EAAK,SAAA,CAAU,MAAA,CAAO,iBAAA,CAAkB,OAAO,CAAC,CAAA,CAAA,EAAI,SAAA,CAAU,IAAI,CAAA,GAAA,EAChE,QAAA,CAAS,MACX,OAAO,OAAO,CAAA;AAAA,KAChB;AAAA,EACF;AACF;AAEO,MAAM,8BAA8B,cAAA,CAAe;AAAA,EACxD,WAAA,CAAY,SAAA,EAAsB,IAAA,EAAc,MAAA,EAAuB;AACrE,IAAA,KAAA;AAAA,MACE,SAAA;AAAA,MACA,GAAG,IAAI,CAAA;AAAA,GAAA,EAA2B,OAC/B,GAAA,CAAIA,sBAAgB,CAAA,CACpB,IAAA,CAAK,OAAO,CAAC,CAAA;AAAA,KAClB;AAAA,EACF;AACF;AAEO,MAAM,sCAAsC,sBAAA,CAAuB;AAAA,EACxE,WAAA,CACE,SAAA,EACA,QAAA,EACA,IAAA,EACA,MAAA,EACA;AACA,IAAA,KAAA;AAAA,MACE,SAAA;AAAA,MACA,QAAA;AAAA,MACA,GAAG,IAAI,CAAA;AAAA,GAAA,EAA2B,OAC/B,GAAA,CAAIA,sBAAgB,CAAA,CACpB,IAAA,CAAK,OAAO,CAAC,CAAA;AAAA,KAClB;AAAA,EACF;AACF;;;;;;;"}