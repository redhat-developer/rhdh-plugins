{"version":3,"file":"parseEntityOrderFieldParams.cjs.js","sources":["../../../src/service/request/parseEntityOrderFieldParams.ts"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { InputError } from '@backstage/errors';\nimport { EntityOrder } from '../../catalog/types';\nimport { parseStringsParam } from './common';\n\nexport function parseEntityOrderFieldParams(\n  params: Record<string, unknown>,\n): EntityOrder[] | undefined {\n  const orderFieldStrings = parseStringsParam(params.orderField, 'orderField');\n  if (!orderFieldStrings) {\n    return undefined;\n  }\n\n  return orderFieldStrings.map(orderFieldString => {\n    const [field, order] = orderFieldString.split(',');\n\n    if (order !== undefined && !isOrder(order)) {\n      throw new InputError('Invalid order field order, must be asc or desc');\n    }\n    return { field, order };\n  });\n}\n\nexport function isOrder(order: string): order is 'asc' | 'desc' {\n  return ['asc', 'desc'].includes(order);\n}\n"],"names":["parseStringsParam","InputError"],"mappings":";;;;;AAoBO,SAAS,4BACd,MAAA,EAC2B;AAC3B,EAAA,MAAM,iBAAA,GAAoBA,wBAAA,CAAkB,MAAA,CAAO,UAAA,EAAY,YAAY,CAAA;AAC3E,EAAA,IAAI,CAAC,iBAAA,EAAmB;AACtB,IAAA,OAAO,MAAA;AAAA,EACT;AAEA,EAAA,OAAO,iBAAA,CAAkB,IAAI,CAAA,gBAAA,KAAoB;AAC/C,IAAA,MAAM,CAAC,KAAA,EAAO,KAAK,CAAA,GAAI,gBAAA,CAAiB,MAAM,GAAG,CAAA;AAEjD,IAAA,IAAI,KAAA,KAAU,MAAA,IAAa,CAAC,OAAA,CAAQ,KAAK,CAAA,EAAG;AAC1C,MAAA,MAAM,IAAIC,kBAAW,gDAAgD,CAAA;AAAA,IACvE;AACA,IAAA,OAAO,EAAE,OAAO,KAAA,EAAM;AAAA,EACxB,CAAC,CAAA;AACH;AAEO,SAAS,QAAQ,KAAA,EAAwC;AAC9D,EAAA,OAAO,CAAC,KAAA,EAAO,MAAM,CAAA,CAAE,SAAS,KAAK,CAAA;AACvC;;;;;"}