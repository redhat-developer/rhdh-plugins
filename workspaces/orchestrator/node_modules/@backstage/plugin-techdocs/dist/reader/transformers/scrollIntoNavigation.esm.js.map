{"version":3,"file":"scrollIntoNavigation.esm.js","sources":["../../../src/reader/transformers/scrollIntoNavigation.ts"],"sourcesContent":["/*\n * Copyright 2021 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { Transformer } from './transformer';\n\nexport const scrollIntoNavigation = (): Transformer => {\n  return dom => {\n    setTimeout(() => {\n      const activeNavItems = dom?.querySelectorAll(`li.md-nav__item--active`);\n      if (activeNavItems.length !== 0) {\n        // expand all navigation items that are active\n        activeNavItems.forEach(activeNavItem => {\n          const checkbox = activeNavItem?.querySelector('input');\n          if (!checkbox?.checked) {\n            checkbox?.click();\n          }\n        });\n\n        const lastItem = activeNavItems[activeNavItems.length - 1];\n        lastItem.scrollIntoView();\n      }\n    }, 200);\n    return dom;\n  };\n};\n"],"names":[],"mappings":"AAkBO,MAAM,uBAAuB,MAAmB;AACrD,EAAA,OAAO,CAAA,GAAA,KAAO;AACZ,IAAA,UAAA,CAAW,MAAM;AACf,MAAA,MAAM,cAAA,GAAiB,GAAA,EAAK,gBAAA,CAAiB,CAAA,uBAAA,CAAyB,CAAA;AACtE,MAAA,IAAI,cAAA,CAAe,WAAW,CAAA,EAAG;AAE/B,QAAA,cAAA,CAAe,QAAQ,CAAA,aAAA,KAAiB;AACtC,UAAA,MAAM,QAAA,GAAW,aAAA,EAAe,aAAA,CAAc,OAAO,CAAA;AACrD,UAAA,IAAI,CAAC,UAAU,OAAA,EAAS;AACtB,YAAA,QAAA,EAAU,KAAA,EAAM;AAAA,UAClB;AAAA,QACF,CAAC,CAAA;AAED,QAAA,MAAM,QAAA,GAAW,cAAA,CAAe,cAAA,CAAe,MAAA,GAAS,CAAC,CAAA;AACzD,QAAA,QAAA,CAAS,cAAA,EAAe;AAAA,MAC1B;AAAA,IACF,GAAG,GAAG,CAAA;AACN,IAAA,OAAO,GAAA;AAAA,EACT,CAAA;AACF;;;;"}