{"version":3,"file":"addNavLinkKeyboardToggle.esm.js","sources":["../../../src/reader/transformers/addNavLinkKeyboardToggle.ts"],"sourcesContent":["/*\n * Copyright 2020 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function addNavLinkKeyboardToggle() {\n  return (element: Element) => {\n    const navLabels = element.querySelectorAll('label.md-nav__link[for]');\n    navLabels.forEach(label => {\n      label.setAttribute('tabIndex', '0');\n      label.addEventListener('keydown', event => {\n        const keyboardEvent = event as KeyboardEvent;\n        if (keyboardEvent.key === 'Enter' || keyboardEvent.key === ' ') {\n          const forId = label.getAttribute('for');\n          if (!forId) return;\n          const checkbox = element.querySelector(\n            `#${forId}`,\n          ) as HTMLInputElement | null;\n          if (checkbox && checkbox.type === 'checkbox') {\n            checkbox.checked = !checkbox.checked;\n            checkbox.dispatchEvent(new Event('change', { bubbles: true }));\n            event.preventDefault();\n            event.stopPropagation();\n          }\n        }\n      });\n    });\n    return element;\n  };\n}\n"],"names":[],"mappings":"AAgBO,SAAS,wBAAA,GAA2B;AACzC,EAAA,OAAO,CAAC,OAAA,KAAqB;AAC3B,IAAA,MAAM,SAAA,GAAY,OAAA,CAAQ,gBAAA,CAAiB,yBAAyB,CAAA;AACpE,IAAA,SAAA,CAAU,QAAQ,CAAA,KAAA,KAAS;AACzB,MAAA,KAAA,CAAM,YAAA,CAAa,YAAY,GAAG,CAAA;AAClC,MAAA,KAAA,CAAM,gBAAA,CAAiB,WAAW,CAAA,KAAA,KAAS;AACzC,QAAA,MAAM,aAAA,GAAgB,KAAA;AACtB,QAAA,IAAI,aAAA,CAAc,GAAA,KAAQ,OAAA,IAAW,aAAA,CAAc,QAAQ,GAAA,EAAK;AAC9D,UAAA,MAAM,KAAA,GAAQ,KAAA,CAAM,YAAA,CAAa,KAAK,CAAA;AACtC,UAAA,IAAI,CAAC,KAAA,EAAO;AACZ,UAAA,MAAM,WAAW,OAAA,CAAQ,aAAA;AAAA,YACvB,IAAI,KAAK,CAAA;AAAA,WACX;AACA,UAAA,IAAI,QAAA,IAAY,QAAA,CAAS,IAAA,KAAS,UAAA,EAAY;AAC5C,YAAA,QAAA,CAAS,OAAA,GAAU,CAAC,QAAA,CAAS,OAAA;AAC7B,YAAA,QAAA,CAAS,aAAA,CAAc,IAAI,KAAA,CAAM,QAAA,EAAU,EAAE,OAAA,EAAS,IAAA,EAAM,CAAC,CAAA;AAC7D,YAAA,KAAA,CAAM,cAAA,EAAe;AACrB,YAAA,KAAA,CAAM,eAAA,EAAgB;AAAA,UACxB;AAAA,QACF;AAAA,MACF,CAAC,CAAA;AAAA,IACH,CAAC,CAAA;AACD,IAAA,OAAO,OAAA;AAAA,EACT,CAAA;AACF;;;;"}