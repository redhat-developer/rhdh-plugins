{"version":3,"file":"TechDocsReaderPageContentAddons.esm.js","sources":["../../../../src/reader/components/TechDocsReaderPageContent/TechDocsReaderPageContentAddons.tsx"],"sourcesContent":["/*\n * Copyright 2022 The Backstage Authors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Portal from '@material-ui/core/Portal';\nimport {\n  useTechDocsAddons,\n  TechDocsAddonLocations as locations,\n  useTechDocsReaderPage,\n} from '@backstage/plugin-techdocs-react';\n\nexport const TechDocsReaderPageContentAddons = () => {\n  const addons = useTechDocsAddons();\n\n  const { shadowRoot } = useTechDocsReaderPage();\n\n  const contentElement = shadowRoot?.querySelector(\n    '[data-md-component=\"content\"]',\n  );\n\n  const primarySidebarElement = shadowRoot?.querySelector(\n    'div[data-md-component=\"sidebar\"][data-md-type=\"navigation\"], div[data-md-component=\"navigation\"]',\n  );\n  let primarySidebarAddonLocation = primarySidebarElement?.querySelector(\n    '[data-techdocs-addons-location=\"primary sidebar\"]',\n  );\n  if (!primarySidebarAddonLocation) {\n    primarySidebarAddonLocation = document.createElement('div');\n    primarySidebarAddonLocation.setAttribute(\n      'data-techdocs-addons-location',\n      'primary sidebar',\n    );\n    primarySidebarElement?.prepend(primarySidebarAddonLocation);\n  }\n\n  const secondarySidebarElement = shadowRoot?.querySelector(\n    'div[data-md-component=\"sidebar\"][data-md-type=\"toc\"], div[data-md-component=\"toc\"]',\n  );\n  let secondarySidebarAddonLocation = secondarySidebarElement?.querySelector(\n    '[data-techdocs-addons-location=\"secondary sidebar\"]',\n  );\n  if (!secondarySidebarAddonLocation) {\n    secondarySidebarAddonLocation = document.createElement('div');\n    secondarySidebarAddonLocation.setAttribute(\n      'data-techdocs-addons-location',\n      'secondary sidebar',\n    );\n    secondarySidebarElement?.prepend(secondarySidebarAddonLocation);\n  }\n\n  return (\n    <>\n      <Portal container={primarySidebarAddonLocation}>\n        {addons.renderComponentsByLocation(locations.PrimarySidebar)}\n      </Portal>\n      <Portal container={contentElement}>\n        {addons.renderComponentsByLocation(locations.Content)}\n      </Portal>\n      <Portal container={secondarySidebarAddonLocation}>\n        {addons.renderComponentsByLocation(locations.SecondarySidebar)}\n      </Portal>\n    </>\n  );\n};\n"],"names":["locations"],"mappings":";;;;AAuBO,MAAM,kCAAkC,MAAM;AACnD,EAAA,MAAM,SAAS,iBAAA,EAAkB;AAEjC,EAAA,MAAM,EAAE,UAAA,EAAW,GAAI,qBAAA,EAAsB;AAE7C,EAAA,MAAM,iBAAiB,UAAA,EAAY,aAAA;AAAA,IACjC;AAAA,GACF;AAEA,EAAA,MAAM,wBAAwB,UAAA,EAAY,aAAA;AAAA,IACxC;AAAA,GACF;AACA,EAAA,IAAI,8BAA8B,qBAAA,EAAuB,aAAA;AAAA,IACvD;AAAA,GACF;AACA,EAAA,IAAI,CAAC,2BAAA,EAA6B;AAChC,IAAA,2BAAA,GAA8B,QAAA,CAAS,cAAc,KAAK,CAAA;AAC1D,IAAA,2BAAA,CAA4B,YAAA;AAAA,MAC1B,+BAAA;AAAA,MACA;AAAA,KACF;AACA,IAAA,qBAAA,EAAuB,QAAQ,2BAA2B,CAAA;AAAA,EAC5D;AAEA,EAAA,MAAM,0BAA0B,UAAA,EAAY,aAAA;AAAA,IAC1C;AAAA,GACF;AACA,EAAA,IAAI,gCAAgC,uBAAA,EAAyB,aAAA;AAAA,IAC3D;AAAA,GACF;AACA,EAAA,IAAI,CAAC,6BAAA,EAA+B;AAClC,IAAA,6BAAA,GAAgC,QAAA,CAAS,cAAc,KAAK,CAAA;AAC5D,IAAA,6BAAA,CAA8B,YAAA;AAAA,MAC5B,+BAAA;AAAA,MACA;AAAA,KACF;AACA,IAAA,uBAAA,EAAyB,QAAQ,6BAA6B,CAAA;AAAA,EAChE;AAEA,EAAA,uBACE,IAAA,CAAA,QAAA,EAAA,EACE,QAAA,EAAA;AAAA,oBAAA,GAAA,CAAC,UAAO,SAAA,EAAW,2BAAA,EAChB,iBAAO,0BAAA,CAA2BA,sBAAA,CAAU,cAAc,CAAA,EAC7D,CAAA;AAAA,oBACA,GAAA,CAAC,UAAO,SAAA,EAAW,cAAA,EAChB,iBAAO,0BAAA,CAA2BA,sBAAA,CAAU,OAAO,CAAA,EACtD,CAAA;AAAA,oBACA,GAAA,CAAC,UAAO,SAAA,EAAW,6BAAA,EAChB,iBAAO,0BAAA,CAA2BA,sBAAA,CAAU,gBAAgB,CAAA,EAC/D;AAAA,GAAA,EACF,CAAA;AAEJ;;;;"}